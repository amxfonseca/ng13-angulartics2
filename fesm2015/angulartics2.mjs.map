{"version":3,"file":"angulartics2.mjs","sources":["../../src/lib/angulartics2-config.ts","../../src/lib/angulartics2-token.ts","../../src/lib/routerless.ts","../../src/lib/angulartics2-core.ts","../../src/lib/angular-router.ts","../../src/lib/angulartics2On.ts","../../src/lib/angulartics2.module.ts","../../src/lib/routerless.module.ts","../../src/lib/providers/adobeanalytics/adobeanalytics.ts","../../src/lib/providers/appinsights/appinsights.ts","../../src/lib/providers/baidu/baidu.ts","../../src/lib/providers/facebook/facebook.ts","../../src/lib/providers/ga/ga.ts","../../src/lib/providers/ga-enhanced-ecom/ga-enhanced-ecom.ts","../../src/lib/providers/gtm/gtm.ts","../../src/lib/providers/gst/gst.ts","../../src/lib/providers/hubspot/hubspot.ts","../../src/lib/providers/kissmetrics/kissmetrics.ts","../../src/lib/providers/launch/launch.ts","../../src/lib/providers/mixpanel/mixpanel.ts","../../src/lib/providers/pyze/pyze.ts","../../src/lib/providers/matomo/matomo.ts","../../src/lib/providers/segment/segment.ts","../../src/lib/providers/intercom/intercom.ts","../../src/lib/providers/woopra/woopra.ts","../../src/lib/providers/clicky/clicky.ts","../../src/lib/providers/amplitude/amplitude.ts","../../src/lib/providers/splunk/splunk.ts","../../src/lib/providers/ibm-digital-analytics/ibm-digital-analytics.ts","../../src/lib/providers/gosquared/gosquared.ts","../../src/lib/angulartics2.ts"],"sourcesContent":["export interface GoogleAnalyticsSettings {\n  /** array of additional account names (only works for analyticsjs) */\n  additionalAccountNames: string[];\n  userId: any;\n  /** see https://developers.google.com/analytics/devguides/collection/analyticsjs/field-reference#transport */\n  transport: string;\n  anonymizeIp: boolean;\n}\n\nexport interface AppInsightsSettings {\n  userId: string;\n}\n\nexport interface GoogleTagManagerSettings {\n  userId: any;\n}\n\nexport interface GoogleGlobalSiteTagSettings {\n  trackingIds: any;\n  userId?: any;\n  anonymizeIp?: boolean;\n  customMap?: { [key: string]: string };\n}\n\nexport interface PageTrackingSettings {\n  autoTrackVirtualPages: boolean;\n  basePath: string;\n  excludedRoutes: (string | RegExp)[];\n  /** drop ids from url `/sections/123/pages/456` -> `/sections/pages` */\n  clearIds: boolean;\n  /** drop contents of url after hash marker `/callback#authcode=1234` -> `/callback` */\n  clearHash: boolean;\n  /** drop query params from url `/sections/123/pages?param=456&param2=789` -> `/sections/123/pages` */\n  clearQueryParams: boolean;\n  /** used with clearIds, define the matcher to clear url parts */\n  idsRegExp: RegExp;\n}\n\nexport interface Angulartics2Settings {\n  pageTracking: Partial<PageTrackingSettings>;\n  /** Disable page tracking */\n  developerMode: boolean;\n  ga: Partial<GoogleAnalyticsSettings>;\n  appInsights: Partial<AppInsightsSettings>;\n  gtm: Partial<GoogleTagManagerSettings>;\n  gst: Partial<GoogleGlobalSiteTagSettings>;\n}\n\nexport class DefaultConfig implements Angulartics2Settings {\n  pageTracking = {\n    autoTrackVirtualPages: true,\n    basePath: '',\n    excludedRoutes: [],\n    clearIds: false,\n    clearHash: false,\n    clearQueryParams: false,\n    idsRegExp:\n      /^\\d+$|^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/,\n  };\n  developerMode = false;\n  ga = {};\n  appInsights = {};\n  gtm = {};\n  gst = {};\n}\n","import { InjectionToken } from '@angular/core';\n\nimport { Angulartics2Settings } from './angulartics2-config';\n\nexport interface Angulartics2Token {\n  settings: Partial<Angulartics2Settings>;\n}\n\nexport const ANGULARTICS2_TOKEN = new InjectionToken<Angulartics2Token>(\n  'ANGULARTICS2'\n);\n","import { BehaviorSubject, Observable } from 'rxjs';\n\nimport { Angulartics2Settings } from './angulartics2-config';\n\nexport interface TrackNavigationEnd {\n  url: string;\n}\n\nexport class RouterlessTracking {\n  trackLocation(settings: Angulartics2Settings): Observable<TrackNavigationEnd> {\n    return new BehaviorSubject<TrackNavigationEnd>({ url: '/' });\n  }\n\n  prepareExternalUrl(url: string): string {\n    return url;\n  }\n}\n","import { Inject, Injectable } from '@angular/core';\n\nimport { MonoTypeOperatorFunction, ReplaySubject } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { Angulartics2Settings, DefaultConfig } from './angulartics2-config';\nimport { EventTrack, PageTrack, UserTimings } from './angulartics2-interfaces';\nimport { Angulartics2Token, ANGULARTICS2_TOKEN } from './angulartics2-token';\nimport { RouterlessTracking, TrackNavigationEnd } from './routerless';\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2 {\n  settings: Angulartics2Settings;\n\n  pageTrack = new ReplaySubject<Partial<PageTrack>>(10);\n  eventTrack = new ReplaySubject<Partial<EventTrack>>(10);\n  exceptionTrack = new ReplaySubject<any>(10);\n  setAlias = new ReplaySubject<string>(10);\n  setUsername = new ReplaySubject<{ userId: string | number } | string>(10);\n  setUserProperties = new ReplaySubject<any>(10);\n  setUserPropertiesOnce = new ReplaySubject<any>(10);\n  setSuperProperties = new ReplaySubject<any>(10);\n  setSuperPropertiesOnce = new ReplaySubject<any>(10);\n  userTimings = new ReplaySubject<UserTimings>(10);\n\n  constructor(\n    private tracker: RouterlessTracking,\n    @Inject(ANGULARTICS2_TOKEN) setup: Angulartics2Token,\n  ) {\n    const defaultConfig = new DefaultConfig();\n    this.settings = { ...defaultConfig, ...setup.settings };\n    this.settings.pageTracking = {\n      ...defaultConfig.pageTracking,\n      ...setup.settings.pageTracking,\n    };\n    this.tracker\n      .trackLocation(this.settings)\n      .subscribe((event: TrackNavigationEnd) => this.trackUrlChange(event.url));\n  }\n\n  /** filters all events when developer mode is true */\n  filterDeveloperMode<T>(): MonoTypeOperatorFunction<T> {\n    return filter((value, index) => !this.settings.developerMode);\n  }\n\n  protected trackUrlChange(url: string) {\n    if (this.settings.pageTracking.autoTrackVirtualPages && !this.matchesExcludedRoute(url)) {\n      const clearedUrl = this.clearUrl(url);\n      let path: string;\n      if (this.settings.pageTracking.basePath.length) {\n        path = this.settings.pageTracking.basePath + clearedUrl;\n      } else {\n        path = this.tracker.prepareExternalUrl(clearedUrl);\n      }\n      this.pageTrack.next({ path });\n    }\n  }\n\n  /**\n   * Use string literals or regular expressions to exclude routes\n   * from automatic pageview tracking.\n   *\n   * @param url location\n   */\n  protected matchesExcludedRoute(url: string): boolean {\n    for (const excludedRoute of this.settings.pageTracking.excludedRoutes) {\n      const matchesRegex = excludedRoute instanceof RegExp && excludedRoute.test(url);\n      if (matchesRegex || url.indexOf(excludedRoute as string) !== -1) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Removes id's from tracked route.\n   *  EX: `/project/12981/feature` becomes `/project/feature`\n   *\n   * @param url current page path\n   */\n  protected clearUrl(url: string): string {\n    if (\n      this.settings.pageTracking.clearIds ||\n      this.settings.pageTracking.clearQueryParams ||\n      this.settings.pageTracking.clearHash\n    ) {\n      return url\n        .split('/')\n        .map(part => (this.settings.pageTracking.clearQueryParams ? part.split('?')[0] : part))\n        .map(part => (this.settings.pageTracking.clearHash ? part.split('#')[0] : part))\n        .filter(\n          part =>\n            !this.settings.pageTracking.clearIds ||\n            !part.match(this.settings.pageTracking.idsRegExp),\n        )\n        .join('/');\n    }\n    return url;\n  }\n}\n","import { Location } from '@angular/common';\nimport { Injectable } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\n\nimport { delay, filter, map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\nimport { RouterlessTracking, TrackNavigationEnd } from './routerless';\n\n/**\n * Track Route changes for applications using Angular's\n * default router\n *\n * @link https://angular.io/api/router/Router\n */\n@Injectable({ providedIn: 'root' })\nexport class AngularRouterTracking implements RouterlessTracking {\n  constructor(private router: Router, private location: Location) {}\n\n  trackLocation(settings): Observable<TrackNavigationEnd> {\n    return this.router.events.pipe(\n      filter(e => e instanceof NavigationEnd),\n      filter(() => !settings.developerMode),\n      map((e: NavigationEnd) => {\n        return { url: e.urlAfterRedirects };\n      }),\n      delay(0),\n    );\n  }\n\n  prepareExternalUrl(url: string): string {\n    return this.location.prepareExternalUrl(url);\n  }\n}\n","import { AfterContentInit, Directive, ElementRef, Input, NgModule, Renderer2 } from '@angular/core';\nimport { Angulartics2 } from './angulartics2-core';\n\n@Directive({ selector: '[angulartics2On]' })\nexport class Angulartics2On implements AfterContentInit {\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n  @Input('angulartics2On') angulartics2On: string;\n  @Input() angularticsAction: string;\n  @Input() angularticsCategory: string;\n  @Input() angularticsLabel: string;\n  @Input() angularticsValue: string;\n  @Input() angularticsProperties: any = {};\n\n  constructor(\n    private elRef: ElementRef,\n    private angulartics2: Angulartics2,\n    private renderer: Renderer2,\n  ) {}\n\n  ngAfterContentInit() {\n    this.renderer.listen(this.elRef.nativeElement, this.angulartics2On || 'click', (event: Event) =>\n      this.eventTrack(event),\n    );\n  }\n\n  eventTrack(event: Event) {\n    const action = this.angularticsAction; // || this.inferEventName();\n    const properties: any = {\n      ...this.angularticsProperties,\n      eventType: event.type,\n    };\n\n    if (this.angularticsCategory) {\n      properties.category = this.angularticsCategory;\n    }\n    if (this.angularticsLabel) {\n      properties.label = this.angularticsLabel;\n    }\n    if (this.angularticsValue) {\n      properties.value = this.angularticsValue;\n    }\n\n    this.angulartics2.eventTrack.next({\n      action,\n      properties,\n    });\n  }\n\n  /*private isCommand() {\n    return ['a:', 'button:', 'button:button', 'button:submit', 'input:button', 'input:submit'].indexOf(\n      getDOM().tagName(this.el).toLowerCase() + ':' + (getDOM().type(this.el) || '')) >= 0;\n  }\n\n  private inferEventName() {\n    if (this.isCommand()) return getDOM().getText(this.el) || getDOM().getValue(this.el);\n    return getDOM().getProperty(this.el, 'id') || getDOM().getProperty(this.el, 'name') || getDOM().tagName(this.el);\n  }*/\n}\n\n@NgModule({\n  declarations: [Angulartics2On],\n  exports: [Angulartics2On],\n})\nexport class Angulartics2OnModule {}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\n\nimport { AngularRouterTracking } from './angular-router';\nimport { Angulartics2Settings } from './angulartics2-config';\nimport { Angulartics2 } from './angulartics2-core';\nimport { ANGULARTICS2_TOKEN } from './angulartics2-token';\nimport { Angulartics2On, Angulartics2OnModule } from './angulartics2On';\nimport { RouterlessTracking } from './routerless';\n\n@NgModule({\n  imports: [Angulartics2OnModule],\n  exports: [Angulartics2On],\n})\nexport class Angulartics2Module {\n  static forRoot(\n    settings: Partial<Angulartics2Settings> = {},\n  ): ModuleWithProviders<Angulartics2Module> {\n    return {\n      ngModule: Angulartics2Module,\n      providers: [\n        { provide: ANGULARTICS2_TOKEN, useValue: { settings } },\n        { provide: RouterlessTracking, useClass: AngularRouterTracking },\n        Angulartics2,\n      ],\n    };\n  }\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\n\nimport {ANGULARTICS2_TOKEN} from './angulartics2-token';\nimport {Angulartics2Settings} from './angulartics2-config';\nimport {Angulartics2OnModule} from './angulartics2On';\nimport {Angulartics2} from './angulartics2-core';\nimport {RouterlessTracking} from './routerless';\n\n@NgModule({\n  imports: [Angulartics2OnModule],\n})\nexport class Angulartics2RouterlessModule {\n  static forRoot(\n    settings: Partial<Angulartics2Settings> = {}\n  ): ModuleWithProviders<Angulartics2RouterlessModule> {\n    return {\n      ngModule: Angulartics2RouterlessModule,\n      providers: [\n        { provide: ANGULARTICS2_TOKEN, useValue: { settings } },\n        RouterlessTracking,\n        Angulartics2,\n      ],\n    };\n  }\n}\n","import { Location } from '@angular/common';\nimport { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\n\ndeclare const s: any;\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2AdobeAnalytics {\n  constructor(private angulartics2: Angulartics2, private location: Location) {\n    this.angulartics2.setUserProperties.subscribe(x => this.setUserProperties(x));\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventTrack(x.action, x.properties));\n  }\n\n  pageTrack(path: string) {\n    if (typeof s !== 'undefined' && s) {\n      s.clearVars();\n      s.t({ pageName: path });\n    }\n  }\n\n  /**\n   * Track Event in Adobe Analytics\n   *\n   * @param action associated with the event\n   * @param properties action detials\n   *\n   * @link https://marketing.adobe.com/resources/help/en_US/sc/implement/js_implementation.html\n   */\n  eventTrack(action: string, properties: any) {\n    // TODO: make interface\n    // @property {string} properties.category\n    // @property {string} properties.label\n    // @property {number} properties.value\n    // @property {boolean} properties.noninteraction\n    if (!properties) {\n      properties = properties || {};\n    }\n\n    if (typeof s !== 'undefined' && s) {\n      if (typeof properties === 'object') {\n        this.setUserProperties(properties);\n      }\n      if (action) {\n        // if linkName property is passed, use that; otherwise, the action is the linkName\n        const linkName = properties['linkName'] ? properties['linkName'] : action;\n        // note that 'this' should refer the link element, but we can't get that in this function. example:\n        // <a href=\"http://anothersite.com\" onclick=\"s.tl(this,'e','AnotherSite',null)\">\n        // if disableDelay property is passed, use that to turn off/on the 500ms delay; otherwise, it uses this\n        const disableDelay = !!properties['disableDelay'] ? true : this;\n        // if action property is passed, use that; otherwise, the action remains unchanged\n        if (properties['action']) {\n          action = properties['action'];\n        }\n        this.setPageName();\n\n        if (action.toUpperCase() === 'DOWNLOAD') {\n          s.tl(disableDelay, 'd', linkName);\n        } else if (action.toUpperCase() === 'EXIT') {\n          s.tl(disableDelay, 'e', linkName);\n        } else {\n          s.tl(disableDelay, 'o', linkName);\n        }\n      }\n    }\n  }\n\n  private setPageName() {\n    const path = this.location.path(true);\n    const hashNdx = path.indexOf('#');\n    if (hashNdx > 0 && hashNdx < path.length) {\n      s.pageName = path.substring(hashNdx + 1);\n    } else {\n      s.pageName = path;\n    }\n  }\n\n  setUserProperties(properties: any) {\n    if (typeof s !== 'undefined' && s) {\n      if (typeof properties === 'object') {\n        for (const key in properties) {\n          if (properties.hasOwnProperty(key)) {\n            s[key] = properties[key];\n          }\n        }\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport {\n  NavigationEnd,\n  NavigationError,\n  NavigationStart,\n  Router,\n} from '@angular/router';\nimport { filter } from 'rxjs/operators';\n\nimport { AppInsightsSettings } from '../../angulartics2-config';\nimport { Angulartics2 } from '../../angulartics2-core';\n\ndeclare const appInsights: Microsoft.ApplicationInsights.IAppInsights;\n\nexport class AppInsightsDefaults implements AppInsightsSettings {\n  userId = null;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2AppInsights {\n  loadStartTime: number = null;\n  loadTime: number = null;\n\n  metrics: { [name: string]: number } = null;\n  dimensions: { [name: string]: string } = null;\n  measurements: { [name: string]: number } = null;\n\n  constructor(\n    private angulartics2: Angulartics2,\n    private title: Title,\n    private router: Router\n  ) {\n    if (typeof appInsights === 'undefined') {\n      console.warn('appInsights not found');\n    }\n\n    const defaults = new AppInsightsDefaults();\n    // Set the default settings for this module\n    this.angulartics2.settings.appInsights = {\n      ...defaults,\n      ...this.angulartics2.settings.appInsights,\n    };\n    this.angulartics2.setUsername.subscribe((x: string) => this.setUsername(x));\n    this.angulartics2.setUserProperties.subscribe((x) =>\n      this.setUserProperties(x)\n    );\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe((x) => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe((x) => this.eventTrack(x.action, x.properties));\n    this.angulartics2.exceptionTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe((x) => this.exceptionTrack(x));\n    this.router.events\n      .pipe(\n        this.angulartics2.filterDeveloperMode(),\n        filter((event) => event instanceof NavigationStart)\n      )\n      .subscribe((event) => this.startTimer());\n\n    this.router.events\n      .pipe(\n        filter(\n          (event) =>\n            event instanceof NavigationError || event instanceof NavigationEnd\n        )\n      )\n      .subscribe((error) => this.stopTimer());\n  }\n\n  startTimer() {\n    this.loadStartTime = Date.now();\n    this.loadTime = null;\n  }\n\n  stopTimer() {\n    this.loadTime = Date.now() - this.loadStartTime;\n    this.loadStartTime = null;\n  }\n\n  /**\n   * Page Track in Baidu Analytics\n   *\n   * @param path - Location 'path'\n   *\n   * @link https://github.com/Microsoft/ApplicationInsights-JS/blob/master/API-reference.md#trackpageview\n   */\n  pageTrack(path: string) {\n    appInsights.trackPageView(\n      this.title.getTitle(),\n      path,\n      this.dimensions,\n      this.metrics,\n      this.loadTime\n    );\n  }\n\n  /**\n   * Log a user action or other occurrence.\n   *\n   * @param name Name to identify this event in the portal.\n   * @param properties Additional data used to filter events and metrics in the portal. Defaults to empty.\n   *\n   * @link https://github.com/Microsoft/ApplicationInsights-JS/blob/master/API-reference.md#trackevent\n   */\n  eventTrack(name: string, properties: { [name: string]: string }) {\n    appInsights.trackEvent(name, properties, this.measurements);\n  }\n\n  /**\n   * Exception Track Event in GA\n   *\n   * @param properties - Comprised of the mandatory fields 'appId' (string), 'appName' (string) and 'appVersion' (string) and\n   * optional fields 'fatal' (boolean) and 'description' (string), error\n   *\n   * @link https://github.com/Microsoft/ApplicationInsights-JS/blob/master/API-reference.md#trackexception\n   */\n  exceptionTrack(properties: any) {\n    const description =\n      properties.event || properties.description || properties;\n\n    appInsights.trackException(description);\n  }\n\n  /**\n   * @link https://github.com/Microsoft/ApplicationInsights-JS/blob/master/API-reference.md#setauthenticatedusercontext\n   */\n  setUsername(userId: string) {\n    this.angulartics2.settings.appInsights.userId = userId;\n    appInsights.setAuthenticatedUserContext(userId);\n  }\n\n  setUserProperties(\n    properties: Partial<{ userId: string; accountId: string }>\n  ) {\n    if (properties.userId) {\n      this.angulartics2.settings.appInsights.userId = properties.userId;\n    }\n    if (properties.accountId) {\n      appInsights.setAuthenticatedUserContext(\n        this.angulartics2.settings.appInsights.userId,\n        properties.accountId\n      );\n    } else {\n      appInsights.setAuthenticatedUserContext(\n        this.angulartics2.settings.appInsights.userId\n      );\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\n\n\ndeclare var _hmt: any;\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2BaiduAnalytics {\n  constructor(private angulartics2: Angulartics2) {\n    if (typeof _hmt === 'undefined') {\n      _hmt = [];\n    } else {\n      _hmt.push(['_setAutoPageview', false]);\n    }\n    this.angulartics2.setUsername\n      .subscribe((x: string) => this.setUsername(x));\n    this.angulartics2.setUserProperties\n      .subscribe((x) => this.setUserProperties(x));\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe((x) => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe((x) => this.eventTrack(x.action, x.properties));\n  }\n\n  /**\n   * Page Track in Baidu Analytics\n   *\n   * @param path Required url 'path'\n   *\n   * @link http://tongji.baidu.com/open/api/more?p=ref_trackPageview\n   */\n  pageTrack(path: string) {\n    if (typeof _hmt !== 'undefined' && _hmt) {\n      _hmt.push(['_trackPageview', path]);\n    }\n  }\n\n  /**\n   * Track Event in Baidu Analytics\n   *\n   * @param action Name associated with the event\n   * @param properties Comprised of:\n   *  - 'category' (string)\n   *  - 'opt_label' (string)\n   *  - 'opt_value' (string)\n   *\n   * @link http://tongji.baidu.com/open/api/more?p=ref_trackEvent\n   */\n  eventTrack(action: string, properties: any) {\n    // baidu analytics requires category\n    if (!properties || !properties.category) {\n      properties = properties || {};\n      properties.category = 'Event';\n      properties.opt_label = 'default';\n      properties.opt_value = 'default';\n    }\n\n    if (typeof _hmt !== 'undefined' && _hmt) {\n      _hmt.push([\n        '_trackEvent',\n        properties.category,\n        action,\n        properties.opt_label,\n        properties.opt_value,\n      ]);\n    }\n  }\n\n  setUsername(userId: string) {\n    // set default custom variables name to 'identity' and 'value'\n    _hmt.push(['_setCustomVar', 1, 'identity', userId]);\n  }\n\n  setUserProperties(properties: any) {\n    _hmt.push(['_setCustomVar', 2, 'user', JSON.stringify(properties)]);\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\n\ndeclare const fbq: facebook.Pixel.Event;\n\nconst facebookEventList = [\n  'ViewContent',\n  'Search',\n  'AddToCart',\n  'AddToWishlist',\n  'InitiateCheckout',\n  'AddPaymentInfo',\n  'Purchase',\n  'Lead',\n  'CompleteRegistration',\n];\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2Facebook {\n  constructor(private angulartics2: Angulartics2) { }\n\n  startTracking(): void {\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventTrack(x.action, x.properties));\n  }\n\n  /**\n   * Send interactions to the Pixel, i.e. for event tracking in Pixel\n   *\n   * @param action action associated with the event\n   */\n  eventTrack(action: string, properties: any = {}) {\n    if (typeof fbq === 'undefined') {\n      return;\n    }\n    if (facebookEventList.indexOf(action) === -1) {\n      return fbq('trackCustom', action, properties);\n    }\n    return fbq('track', action, properties);\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\nimport { GoogleAnalyticsSettings } from '../../angulartics2-config';\nimport { UserTimings } from '../../angulartics2-interfaces';\n\ndeclare var _gaq: GoogleAnalyticsCode;\ndeclare var ga: UniversalAnalytics.ga;\ndeclare var location: any;\n\nexport class GoogleAnalyticsDefaults implements GoogleAnalyticsSettings {\n  additionalAccountNames = [];\n  userId = null;\n  transport = '';\n  anonymizeIp = false;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2GoogleAnalytics {\n  dimensionsAndMetrics = [];\n  settings: Partial<GoogleAnalyticsSettings>;\n\n  constructor(private angulartics2: Angulartics2) {\n    const defaults = new GoogleAnalyticsDefaults();\n    // Set the default settings for this module\n    this.angulartics2.settings.ga = {\n      ...defaults,\n      ...this.angulartics2.settings.ga,\n    };\n    this.settings = this.angulartics2.settings.ga;\n    this.angulartics2.setUsername.subscribe((x: string) => this.setUsername(x));\n    this.angulartics2.setUserProperties.subscribe(x => this.setUserProperties(x));\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventTrack(x.action, x.properties));\n    this.angulartics2.exceptionTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.exceptionTrack(x));\n    this.angulartics2.userTimings\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.userTimings(x));\n  }\n\n  pageTrack(path: string) {\n    if (typeof _gaq !== 'undefined' && _gaq) {\n      _gaq.push(['_trackPageview', path]);\n      for (const accountName of this.angulartics2.settings.ga.additionalAccountNames) {\n        _gaq.push([accountName + '._trackPageview', path]);\n      }\n    }\n    if (typeof ga !== 'undefined' && ga) {\n      if (this.angulartics2.settings.ga.userId) {\n        ga('set', '&uid', this.angulartics2.settings.ga.userId);\n        for (const accountName of this.angulartics2.settings.ga.additionalAccountNames) {\n          ga(accountName + '.set', '&uid', this.angulartics2.settings.ga.userId);\n        }\n      }\n      if (this.angulartics2.settings.ga.anonymizeIp) {\n        ga('set', 'anonymizeIp', true);\n        for (const accountName of this.angulartics2.settings.ga.additionalAccountNames) {\n          ga(accountName + '.set', 'anonymizeIp', true);\n        }\n      }\n      ga('send', 'pageview', path);\n      for (const accountName of this.angulartics2.settings.ga.additionalAccountNames) {\n        ga(accountName + '.send', 'pageview', path);\n      }\n    }\n  }\n\n  /**\n   * Track Event in GA\n   *\n   * @param action Associated with the event\n   * @param properties Comprised of:\n   *  - category (string) and optional\n   *  - label (string)\n   *  - value (integer)\n   *  - noninteraction (boolean)\n   *\n   * @link https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide#SettingUpEventTracking\n   * @link https://developers.google.com/analytics/devguides/collection/analyticsjs/events\n   */\n  eventTrack(action: string, properties: any) {\n    // Google Analytics requires an Event Category\n    if (!properties || !properties.category) {\n      properties = properties || {};\n      properties.category = 'Event';\n    }\n    // GA requires that eventValue be an integer, see:\n    // https://developers.google.com/analytics/devguides/collection/analyticsjs/field-reference#eventValue\n    // https://github.com/luisfarzati/angulartics/issues/81\n    if (properties.value) {\n      const parsed = parseInt(properties.value, 10);\n      properties.value = isNaN(parsed) ? 0 : parsed;\n    }\n\n    if (typeof ga !== 'undefined') {\n      const eventOptions = {\n        eventCategory: properties.category,\n        eventAction: action,\n        eventLabel: properties.label,\n        eventValue: properties.value,\n        nonInteraction: properties.noninteraction,\n        page: properties.page || location.hash.substring(1) || location.pathname,\n        userId: this.angulartics2.settings.ga.userId,\n        hitCallback: properties.hitCallback,\n        ...(this.angulartics2.settings.ga.transport && {\n          transport: this.angulartics2.settings.ga.transport,\n        }),\n      };\n\n      // add custom dimensions and metrics\n      this.setDimensionsAndMetrics(properties);\n\n      ga('send', 'event', eventOptions);\n\n      for (const accountName of this.angulartics2.settings.ga.additionalAccountNames) {\n        ga(accountName + '.send', 'event', eventOptions);\n      }\n    } else if (typeof _gaq !== 'undefined') {\n      _gaq.push([\n        '_trackEvent',\n        properties.category,\n        action,\n        properties.label,\n        properties.value,\n        properties.noninteraction,\n      ]);\n    }\n  }\n\n  /**\n   * Exception Track Event in GA\n   *\n   * @param properties Comprised of the optional fields:\n   *  - fatal (string)\n   *  - description (string)\n   *\n   * @https://developers.google.com/analytics/devguides/collection/analyticsjs/exceptions\n   *\n   * @link https://developers.google.com/analytics/devguides/collection/analyticsjs/events\n   */\n  exceptionTrack(properties: any) {\n    if (properties.fatal === undefined) {\n      console.log('No \"fatal\" provided, sending with fatal=true');\n      properties.fatal = true;\n    }\n\n    properties.exDescription = properties.description;\n\n    const eventOptions = {\n      exFatal: properties.fatal,\n      exDescription: properties.description,\n    };\n\n    ga('send', 'exception', eventOptions);\n    for (const accountName of this.angulartics2.settings.ga.additionalAccountNames) {\n      ga(accountName + '.send', 'exception', eventOptions);\n    }\n  }\n\n  /**\n   * User Timings Event in GA\n   *\n   * @param properties Comprised of the mandatory fields:\n   *  - timingCategory (string)\n   *  - timingVar (string)\n   *  - timingValue (number)\n   * Properties can also have the optional fields:\n   *  - timingLabel (string)\n   *\n   * @link https://developers.google.com/analytics/devguides/collection/analyticsjs/user-timings\n   */\n  userTimings(properties: UserTimings) {\n    if (\n      !properties ||\n      !properties.timingCategory ||\n      !properties.timingVar ||\n      !properties.timingValue\n    ) {\n      console.error(\n        'Properties timingCategory, timingVar, and timingValue are required to be set.',\n      );\n      return;\n    }\n\n    if (typeof ga !== 'undefined') {\n      ga('send', 'timing', properties);\n      for (const accountName of this.angulartics2.settings.ga.additionalAccountNames) {\n        ga(accountName + '.send', 'timing', properties);\n      }\n    }\n  }\n\n  setUsername(userId: string) {\n    this.angulartics2.settings.ga.userId = userId;\n    if (typeof ga === 'undefined') {\n      return;\n    }\n    ga('set', 'userId', userId);\n  }\n\n  setUserProperties(properties: any) {\n    this.setDimensionsAndMetrics(properties);\n  }\n\n  private setDimensionsAndMetrics(properties: any) {\n    if (typeof ga === 'undefined') {\n      return;\n    }\n    // clean previously used dimensions and metrics that will not be overriden\n    this.dimensionsAndMetrics.forEach(elem => {\n      if (!properties.hasOwnProperty(elem)) {\n        ga('set', elem, undefined);\n\n        this.angulartics2.settings.ga.additionalAccountNames.forEach((accountName: string) => {\n          ga(`${accountName}.set`, elem, undefined);\n        });\n      }\n    });\n    this.dimensionsAndMetrics = [];\n\n    // add custom dimensions and metrics\n    Object.keys(properties).forEach(key => {\n      if (key.lastIndexOf('dimension', 0) === 0 || key.lastIndexOf('metric', 0) === 0) {\n        ga('set', key, properties[key]);\n\n        this.angulartics2.settings.ga.additionalAccountNames.forEach((accountName: string) => {\n          ga(`${accountName}.set`, key, properties[key]);\n        });\n        this.dimensionsAndMetrics.push(key);\n      }\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  GaEnhancedEcomAction,\n  GaEnhancedEcomActionFieldObject,\n  GaEnhancedEcomImpressionFieldObject,\n  GaEnhancedEcomProductFieldObject,\n} from './ga-enhanced-ecom-options';\n\ndeclare var ga: UniversalAnalytics.ga;\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2GoogleAnalyticsEnhancedEcommerce {\n  /**\n   * Add impression in GA enhanced ecommerce tracking\n   * @link https://developers.google.com/analytics/devguides/collection/analyticsjs/enhanced-ecommerce#measuring-activities\n   */\n  ecAddImpression(properties: Partial<GaEnhancedEcomImpressionFieldObject>) {\n    ga('ec:addImpression', properties);\n  }\n\n  /**\n   * Add product in GA enhanced ecommerce tracking\n   * @link https://developers.google.com/analytics/devguides/collection/analyticsjs/ecommerce\n   */\n  ecAddProduct(product: Partial<GaEnhancedEcomProductFieldObject>) {\n    ga('ec:addProduct', product);\n  }\n\n  /**\n   * Set action in GA enhanced ecommerce tracking\n   * @link https://developers.google.com/analytics/devguides/collection/analyticsjs/ecommerce\n   */\n  ecSetAction(\n    action: GaEnhancedEcomAction,\n    properties: Partial<GaEnhancedEcomActionFieldObject>\n  ) {\n    ga('ec:setAction', action, properties);\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\nimport { GoogleTagManagerSettings } from '../../angulartics2-config';\n\ndeclare var dataLayer: any;\n\nexport class GoogleTagManagerDefaults implements GoogleTagManagerSettings {\n  userId = null;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2GoogleTagManager {\n  constructor(protected angulartics2: Angulartics2) {\n    // The dataLayer needs to be initialized\n    if (typeof dataLayer !== 'undefined' && dataLayer) {\n      dataLayer = (window as any).dataLayer = (window as any).dataLayer || [];\n    }\n    const defaults = new GoogleTagManagerDefaults();\n    // Set the default settings for this module\n    this.angulartics2.settings.gtm = { ...defaults, ...this.angulartics2.settings.gtm };\n    this.angulartics2.setUsername.subscribe((x: string) => this.setUsername(x));\n  }\n\n  startTracking() {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventTrack(x.action, x.properties));\n    this.angulartics2.exceptionTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe((x: any) => this.exceptionTrack(x));\n  }\n\n  pageTrack(path: string) {\n    this.pushLayer({\n      event: 'Page View',\n      'content-name': path,\n      userId: this.angulartics2.settings.gtm.userId,\n    });\n  }\n\n  /**\n   * Send Data Layer\n   *\n   * @layer data layer object\n   */\n  pushLayer(layer: any) {\n    if (typeof dataLayer !== 'undefined' && dataLayer) {\n      dataLayer.push(layer);\n    }\n  }\n\n  /**\n   * Send interactions to the dataLayer, i.e. for event tracking in Google Analytics\n   *\n   * @param action associated with the event\n   */\n  eventTrack(action: string, properties: any) {\n    // TODO: make interface\n    //  @param {string} properties.category\n    //  @param {string} [properties.label]\n    //  @param {number} [properties.value]\n    //  @param {boolean} [properties.noninteraction]\n    // Set a default GTM category\n    properties = properties || {};\n\n    this.pushLayer({\n      event: properties.event || 'interaction',\n      target: properties.category || 'Event',\n      action,\n      label: properties.label,\n      value: properties.value,\n      interactionType: properties.noninteraction,\n      userId: this.angulartics2.settings.gtm.userId,\n      ...properties.gtmCustom,\n    });\n  }\n\n  /**\n   * Exception Track Event in GTM\n   *\n   */\n  exceptionTrack(properties: any) {\n    // TODO: make interface\n    //  @param {Object} properties\n    //  @param {string} properties.appId\n    //  @param {string} properties.appName\n    //  @param {string} properties.appVersion\n    //  @param {string} [properties.description]\n    //  @param {boolean} [properties.fatal]\n    if (!properties || !properties.appId || !properties.appName || !properties.appVersion) {\n      console.error('Must be setted appId, appName and appVersion.');\n      return;\n    }\n\n    if (properties.fatal === undefined) {\n      console.log('No \"fatal\" provided, sending with fatal=true');\n      properties.exFatal = true;\n    }\n\n    properties.exDescription = properties.event ? properties.event.stack : properties.description;\n\n    this.eventTrack(\n      `Exception thrown for ${properties.appName} <${properties.appId}@${properties.appVersion}>`,\n      {\n        category: 'Exception',\n        label: properties.exDescription,\n      },\n    );\n  }\n\n  /**\n   * Set userId for use with Universal Analytics User ID feature\n   *\n   * @param userId used to identify user cross-device in Google Analytics\n   */\n  setUsername(userId: string) {\n    this.angulartics2.settings.gtm.userId = userId;\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { UserTimings } from '../../angulartics2-interfaces';\nimport { GoogleGlobalSiteTagSettings } from '../../angulartics2-config';\nimport { Angulartics2 } from '../../angulartics2-core';\nimport { EventGst, UserTimingsGst } from './gst-interfaces';\n\ndeclare var gtag: any;\ndeclare var ga: any;\n\nexport class GoogleGlobalSiteTagDefaults implements GoogleGlobalSiteTagSettings {\n  trackingIds: string[] = [];\n\n  constructor() {\n    if (typeof ga !== 'undefined' && ga) {\n      // See: https://developers.google.com/analytics/devguides/collection/analyticsjs/ga-object-methods-reference\n      ga(() => {\n        ga.getAll().forEach((tracker: any) => {\n          const id = tracker.get('trackingId');\n          // If set both in forRoot and HTML page, we want to avoid duplicates\n          if (id !== undefined && this.trackingIds.indexOf(id) === -1) {\n            this.trackingIds.push(id);\n          }\n        });\n      });\n    }\n  }\n}\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2GoogleGlobalSiteTag {\n  private dimensionsAndMetrics: { [key: string]: any } = {};\n\n  constructor(protected angulartics2: Angulartics2) {\n    const defaults = new GoogleGlobalSiteTagDefaults();\n    // Set the default settings for this module\n    this.angulartics2.settings.gst = { ...defaults, ...this.angulartics2.settings.gst };\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventTrack(x.action, x.properties));\n    this.angulartics2.exceptionTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe((x: any) => this.exceptionTrack(x));\n    this.angulartics2.userTimings\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.userTimings(this.convertTimings(x)));\n    this.angulartics2.setUsername\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe((x: string) => this.setUsername(x));\n    this.angulartics2.setUserProperties\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe((x: any) => this.setUserProperties(x));\n  }\n\n  /**\n   * Manually track page view, see:\n   *\n   * https://developers.google.com/analytics/devguides/collection/gtagjs/single-page-applications#tracking_virtual_pageviews\n   *\n   * @param path relative url\n   */\n  pageTrack(path: string) {\n    if (typeof gtag !== 'undefined' && gtag) {\n      const params: any = {\n        page_path: path,\n        page_location: window.location.protocol + '//' + window.location.host + path,\n        ...this.dimensionsAndMetrics,\n      };\n\n      // Custom map must be reset with all config to stay valid.\n\n      if (this.angulartics2.settings.gst.customMap) {\n        params.custom_map = this.angulartics2.settings.gst.customMap;\n      }\n      if (this.angulartics2.settings.gst.userId) {\n        params.user_id = this.angulartics2.settings.gst.userId;\n      }\n      if (this.angulartics2.settings.gst.anonymizeIp) {\n        params.anonymize_ip = this.angulartics2.settings.gst.anonymizeIp;\n      }\n\n      for (const id of this.angulartics2.settings.gst.trackingIds) {\n        gtag('config', id, params);\n      }\n    }\n  }\n\n  /**\n   * Send interactions to gtag, i.e. for event tracking in Google Analytics. See:\n   *\n   * https://developers.google.com/analytics/devguides/collection/gtagjs/events\n   *\n   * @param action associated with the event\n   */\n  eventTrack(action: string, properties: Partial<EventGst> = {}) {\n    this.eventTrackInternal(action, {\n      event_category: properties.category || 'interaction',\n      event_label: properties.label,\n      value: properties.value,\n      non_interaction: properties.noninteraction,\n      ...properties.gstCustom,\n    });\n  }\n\n  /**\n   * Exception Track Event in GST. See:\n   *\n   * https://developers.google.com/analytics/devguides/collection/gtagjs/exceptions\n   *\n   */\n  exceptionTrack(properties: any) {\n    // TODO: make interface\n    //  @param {Object} properties\n    //  @param {string} [properties.description]\n    //  @param {boolean} [properties.fatal]\n    if (properties.fatal === undefined) {\n      console.log('No \"fatal\" provided, sending with fatal=true');\n      properties.fatal = true;\n    }\n\n    properties.exDescription = properties.event ? properties.event.stack : properties.description;\n\n    this.eventTrack('exception', {\n      gstCustom: {\n        description: properties.exDescription,\n        fatal: properties.fatal,\n        ...properties.gstCustom,\n      },\n    });\n  }\n\n  /**\n   * User Timings Event in GST.\n   *\n   * @param properties Comprised of the mandatory fields:\n   *  - name (string)\n   *  - value (number - integer)\n   * Properties can also have the optional fields:\n   *  - category (string)\n   *  - label (string)\n   *\n   * @link https://developers.google.com/analytics/devguides/collection/gtagjs/user-timings\n   */\n  userTimings(properties: UserTimingsGst) {\n    if (!properties) {\n      console.error('User timings - \"properties\" parameter is required to be set.');\n      return;\n    }\n\n    this.eventTrackInternal('timing_complete', {\n      name: properties.name,\n      value: properties.value,\n      event_category: properties.category,\n      event_label: properties.label,\n    });\n  }\n\n  private convertTimings(properties: UserTimings): UserTimingsGst {\n    return {\n      name: properties.timingVar,\n      value: properties.timingValue,\n      category: properties.timingCategory,\n      label: properties.timingLabel,\n    };\n  }\n\n  setUsername(userId: string | { userId: string | number }) {\n    this.angulartics2.settings.gst.userId = userId;\n    if (typeof gtag !== 'undefined' && gtag) {\n      gtag('set', { user_id: typeof userId === 'string' || !userId ? userId : userId.userId });\n    }\n  }\n\n  setUserProperties(properties: any) {\n    this.setDimensionsAndMetrics(properties);\n  }\n\n  private setDimensionsAndMetrics(properties: { [key: string]: any }) {\n    // We want the dimensions and metrics to accumulate, so we merge with previous value\n    this.dimensionsAndMetrics = {\n      ...this.dimensionsAndMetrics,\n      ...properties,\n    };\n\n    // Remove properties that are null or undefined\n    Object.keys(this.dimensionsAndMetrics).forEach(key => {\n      const val = this.dimensionsAndMetrics[key];\n      if (val === undefined || val === null) {\n        delete this.dimensionsAndMetrics[key];\n      }\n    });\n\n    if (typeof gtag !== 'undefined' && gtag) {\n      gtag('set', this.dimensionsAndMetrics);\n    }\n  }\n\n  private eventTrackInternal(action: string, properties: any = {}) {\n    this.cleanProperties(properties);\n    if (typeof gtag !== 'undefined' && gtag) {\n      gtag('event', action, properties);\n    }\n  }\n\n  private cleanProperties(properties: { [key: string]: any }): void {\n    // GA requires that eventValue be an non-negative integer, see:\n    // https://developers.google.com/analytics/devguides/collection/gtagjs/events\n    if (properties.value) {\n      const parsed = parseInt(properties.value, 10);\n      properties.value = isNaN(parsed) ? 0 : parsed;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\n\ndeclare var _hsq: any;\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2Hubspot {\n  constructor(private angulartics2: Angulartics2) {\n    this.angulartics2.setUserProperties.subscribe(x => this.setUserProperties(x));\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventTrack(x.action, x.properties));\n  }\n\n  pageTrack(path: string) {\n    if (typeof _hsq !== 'undefined') {\n      _hsq.push(['setPath', path]);\n      _hsq.push(['trackPageView']);\n    }\n  }\n\n  eventTrack(action: string, properties: any) {\n    if (typeof _hsq !== 'undefined') {\n      _hsq.push(['trackEvent', properties]);\n    }\n  }\n\n  setUserProperties(properties: any) {\n    if (typeof _hsq !== 'undefined') {\n      _hsq.push(['identify', properties]);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\n\ndeclare var _kmq: any;\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2Kissmetrics {\n  constructor(private angulartics2: Angulartics2) {\n    if (typeof _kmq === 'undefined') {\n      _kmq = [];\n    }\n    this.angulartics2.setUsername.subscribe((x: string) => this.setUsername(x));\n    this.angulartics2.setUserProperties.subscribe(x => this.setUserProperties(x));\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventTrack(x.action, x.properties));\n  }\n\n  pageTrack(path: string) {\n    _kmq.push(['record', 'Pageview', { Page: path }]);\n  }\n\n  eventTrack(action: string, properties: any) {\n    _kmq.push(['record', action, properties]);\n  }\n\n  setUsername(userId: string) {\n    _kmq.push(['identify', userId]);\n  }\n\n  setUserProperties(properties: any) {\n    _kmq.push(['set', properties]);\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\n\ndeclare const _satellite: any;\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2LaunchByAdobe {\n  payload: any = {};\n\n  constructor(protected angulartics2: Angulartics2) {\n    if ('undefined' === typeof _satellite) {\n      console.warn('Launch not found!');\n    }\n    this.angulartics2.setUsername.subscribe((x: string) => this.setUsername(x));\n    this.angulartics2.setUserProperties.subscribe(x => this.setUserProperties(x));\n  }\n\n  setUsername(userId: string | boolean) {\n    if ('undefined' !== typeof userId && userId) {\n      this.payload.userId = userId;\n    }\n  }\n\n  setUserProperties(properties: any) {\n    if ('undefined' !== typeof properties && properties) {\n      this.payload.properties = properties;\n    }\n  }\n\n  startTracking() {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventTrack(x.action, x.properties));\n  }\n\n  pageTrack(path: string) {\n    this.payload = this.payload || {};\n    this.payload.path = path;\n\n    if ('undefined' !== typeof _satellite && _satellite) {\n      _satellite.track('pageTrack', this.payload);\n    }\n  }\n\n  /**\n   * @param action associated with the event\n   * @param properties associated with the event\n   */\n  eventTrack(action: string, properties: any) {\n    properties = properties || {};\n\n    // add properties to payload\n    this.payload.action = action;\n    this.payload.eventProperties = properties;\n\n    if ('undefined' !== typeof _satellite && _satellite) {\n      _satellite.track('eventTrack', this.payload);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\n\ndeclare var mixpanel: any;\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2Mixpanel {\n  constructor(private angulartics2: Angulartics2) {\n    this.angulartics2.setUsername.subscribe((x: string) => this.setUsername(x));\n    this.angulartics2.setUserProperties.subscribe(x => this.setUserProperties(x));\n    this.angulartics2.setUserPropertiesOnce.subscribe(x => this.setUserPropertiesOnce(x));\n    this.angulartics2.setSuperProperties.subscribe(x => this.setSuperProperties(x));\n    this.angulartics2.setSuperPropertiesOnce.subscribe(x => this.setSuperPropertiesOnce(x));\n    this.angulartics2.setAlias.subscribe(x => this.setAlias(x));\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventTrack(x.action, x.properties));\n  }\n\n  pageTrack(path: string) {\n    try {\n      mixpanel.track('Page Viewed', { page: path });\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  eventTrack(action: string, properties: any) {\n    try {\n      mixpanel.track(action, properties);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  setUsername(userId: string) {\n    try {\n      mixpanel.identify(userId);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  setUserProperties(properties: any) {\n    try {\n      mixpanel.people.set(properties);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  setUserPropertiesOnce(properties: any) {\n    try {\n      mixpanel.people.set_once(properties);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  setSuperProperties(properties: any) {\n    try {\n      mixpanel.register(properties);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  setSuperPropertiesOnce(properties: any) {\n    try {\n      mixpanel.register_once(properties);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  setAlias(alias: any) {\n    try {\n      mixpanel.alias(alias);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\n\ndeclare var Pyze: any;\ndeclare var PyzeEvents: any;\ndeclare var PyzeIdentity: any;\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2Pyze {\n  constructor(private angulartics2: Angulartics2) {\n    this.angulartics2.setUsername.subscribe((x: string) => this.setUserId(x));\n    this.angulartics2.setUserProperties.subscribe(x => this.postTraits(x));\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventTrack(x.action, x.properties));\n  }\n\n  pageTrack(path: string) {\n    try {\n      Pyze.postPageView('Page Viewed', { page: path });\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  eventTrack(action: string, properties: any) {\n    try {\n      PyzeEvents.postCustomEventWithAttributes(action, properties);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  setUserId(userId: string) {\n    try {\n      PyzeIdentity.setUserIdentifier(userId);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  postTraits(properties: string) {\n    try {\n      PyzeIdentity.postTraits(properties);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\n\ndeclare var _paq: any;\n\nexport type EventTrackAction =\n  | 'setEcommerceView'\n  | 'addEcommerceItem'\n  | 'trackEcommerceCartUpdate'\n  | 'trackEcommerceOrder'\n  | 'trackLink'\n  | 'trackGoal'\n  | 'trackSiteSearch'\n  | string;\n\nexport type ScopeMatomo = 'visit' | 'page';\n\nexport interface DimensionsMatomoProperties {\n  dimension0?: string;\n  dimension1?: string;\n  dimension2?: string;\n  dimension3?: string;\n  dimension4?: string;\n  dimension5?: string;\n  dimension6?: string;\n  dimension7?: string;\n  dimension8?: string;\n  dimension9?: string;\n}\nexport interface SetEcommerceViewMatomoProperties {\n  /** @class SetEcommerceViewMatomoProperties */\n  productSKU: string;\n  /** @class SetEcommerceViewMatomoProperties */\n  productName: string;\n  /** @class SetEcommerceViewMatomoProperties */\n  categoryName: string;\n  /** @class SetEcommerceViewMatomoProperties */\n  price: string;\n}\n\nexport interface AddEcommerceItemProperties {\n  /** @class AddEcommerceItemProperties */\n  productSKU: string;\n  /** @class AddEcommerceItemProperties */\n  productName: string;\n  /** @class AddEcommerceItemProperties */\n  productCategory: string;\n  /** @class AddEcommerceItemProperties */\n  price: string;\n  /** @class AddEcommerceItemProperties */\n  quantity: string;\n}\n\nexport interface TrackEcommerceCartUpdateMatomoProperties {\n  /** @class TrackEcommerceCartUpdateMatomoProperties */\n  grandTotal: string;\n}\n\nexport interface TrackEcommerceOrderMatomoProperties {\n  /** @class TrackEcommerceOrderMatomoProperties */\n  orderId: string;\n  /** @class TrackEcommerceOrderMatomoProperties */\n  grandTotal: string;\n  /** @class TrackEcommerceOrderMatomoProperties */\n  subTotal: string;\n  /** @class TrackEcommerceOrderMatomoProperties */\n  tax: string;\n  /** @class TrackEcommerceOrderMatomoProperties */\n  shipping: string;\n  /** @class TrackEcommerceOrderMatomoProperties */\n  discount: string;\n}\n\nexport interface TrackLinkMatomoProperties {\n  /** @class TrackLinkMatomoProperties */\n  url: string;\n  /** @class TrackLinkMatomoProperties */\n  linkType: string;\n}\n\nexport interface TrackGoalMatomoProperties {\n  /** @class TrackGoalMatomoProperties */\n  goalId: string;\n  /** @class TrackGoalMatomoProperties */\n  value: string;\n}\n\nexport interface TrackSiteSearchMatomoProperties {\n  /** @class TrackSiteSearchMatomoProperties */\n  keyword: string;\n  /** @class TrackSiteSearchMatomoProperties */\n  category: string;\n  /** @class TrackSiteSearchMatomoProperties */\n  searchCount: string;\n}\n\nexport interface TrackEventMatomoProperties {\n  /** @class TrackEventMatomoProperties */\n  category: string;\n  /** @class TrackEventMatomoProperties */\n  name?: string;\n  /** @class TrackEventMatomoProperties */\n  label?: string;\n  /** @class TrackEventMatomoProperties */\n  value: number | string;\n}\n\nexport interface SetCustomVariableMatomoProperties extends DimensionsMatomoProperties {\n  /** @class SetCustomVariableMatomoProperties */\n  index: number;\n  /** @class SetCustomVariableMatomoProperties */\n  name: string;\n  /** @class SetCustomVariableMatomoProperties */\n  value: string;\n  /** @class SetCustomVariableMatomoProperties */\n  scope: ScopeMatomo;\n}\n\nexport interface DeleteCustomVariableMatomoProperties {\n  /** @class DeleteCustomVariableMatomoProperties */\n  index: number;\n  /** @class DeleteCustomVariableMatomoProperties */\n  scope: ScopeMatomo;\n}\n\nexport type EventTrackactionProperties =\n  | SetEcommerceViewMatomoProperties\n  | AddEcommerceItemProperties\n  | TrackEcommerceCartUpdateMatomoProperties\n  | TrackEcommerceOrderMatomoProperties\n  | TrackLinkMatomoProperties\n  | TrackGoalMatomoProperties\n  | TrackSiteSearchMatomoProperties\n  | TrackEventMatomoProperties;\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2Matomo {\n  constructor(private angulartics2: Angulartics2) {\n    if (typeof _paq === 'undefined') {\n      console.warn('Matomo not found');\n    }\n    this.angulartics2.setUsername.subscribe((x: string) => this.setUsername(x));\n    this.angulartics2.setUserProperties.subscribe((x: SetCustomVariableMatomoProperties) =>\n      this.setUserProperties(x),\n    );\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventTrack(x.action, x.properties));\n  }\n\n  pageTrack(path: string, title?: string) {\n    try {\n      if (!window.location.origin) {\n        (window.location as any).origin =\n          window.location.protocol +\n          '//' +\n          window.location.hostname +\n          (window.location.port ? ':' + window.location.port : '');\n      }\n      _paq.push(['setDocumentTitle', title || window.document.title]);\n      _paq.push(['setCustomUrl', window.location.origin + path]);\n      _paq.push(['trackPageView']);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  resetUser() {\n    try {\n      _paq.push(['appendToTrackingUrl', 'new_visit=1']); // (1) forces a new visit\n      _paq.push(['deleteCookies']); // (2) deletes existing tracking cookies to start the new visit\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  eventTrack(action: 'setEcommerceView', properties: SetEcommerceViewMatomoProperties): void;\n  eventTrack(action: 'addEcommerceItem', properties: AddEcommerceItemProperties): void;\n  eventTrack(\n    action: 'trackEcommerceCartUpdate',\n    properties: TrackEcommerceCartUpdateMatomoProperties,\n  ): void;\n  eventTrack(action: 'trackEcommerceOrder', properties: TrackEcommerceOrderMatomoProperties): void;\n  eventTrack(action: 'trackLink', properties: TrackLinkMatomoProperties): void;\n  eventTrack(action: 'trackGoal', properties: TrackGoalMatomoProperties): void;\n  eventTrack(action: 'trackSiteSearch', properties: TrackSiteSearchMatomoProperties): void;\n  eventTrack(action: string, properties: TrackEventMatomoProperties): void;\n\n  /**\n   * Track a basic event in Matomo, or send an ecommerce event.\n   *\n   * @param action A string corresponding to the type of event that needs to be tracked.\n   * @param properties The properties that need to be logged with the event.\n   */\n  eventTrack(action: EventTrackAction, properties?: EventTrackactionProperties) {\n    let params = [];\n    switch (action) {\n      /**\n       * @description Sets the current page view as a product or category page view. When you call\n       * setEcommerceView it must be followed by a call to trackPageView to record the product or\n       * category page view.\n       *\n       * @link https://matomo.org/docs/ecommerce-analytics/#tracking-product-page-views-category-page-views-optional\n       * @link https://developer.matomo.org/api-reference/tracking-javascript#ecommerce\n       *\n       * @property productSKU (required) SKU: Product unique identifier\n       * @property productName (optional) Product name\n       * @property categoryName (optional) Product category, or array of up to 5 categories\n       * @property price (optional) Product Price as displayed on the page\n       */\n      case 'setEcommerceView':\n        params = [\n          'setEcommerceView',\n          (properties as SetEcommerceViewMatomoProperties).productSKU,\n          (properties as SetEcommerceViewMatomoProperties).productName,\n          (properties as SetEcommerceViewMatomoProperties).categoryName,\n          (properties as SetEcommerceViewMatomoProperties).price,\n        ];\n        break;\n\n      /**\n       * @description Adds a product into the ecommerce order. Must be called for each product in\n       * the order.\n       *\n       * @link https://matomo.org/docs/ecommerce-analytics/#tracking-ecommerce-orders-items-purchased-required\n       * @link https://developer.matomo.org/api-reference/tracking-javascript#ecommerce\n       *\n       * @property productSKU (required) SKU: Product unique identifier\n       * @property productName (optional) Product name\n       * @property categoryName (optional) Product category, or array of up to 5 categories\n       * @property price (recommended) Product price\n       * @property quantity (optional, default to 1) Product quantity\n       */\n      case 'addEcommerceItem':\n        params = [\n          'addEcommerceItem',\n          (properties as AddEcommerceItemProperties).productSKU,\n          (properties as AddEcommerceItemProperties).productName,\n          (properties as AddEcommerceItemProperties).productCategory,\n          (properties as AddEcommerceItemProperties).price,\n          (properties as AddEcommerceItemProperties).quantity,\n        ];\n        break;\n\n      /**\n       * @description Tracks a shopping cart. Call this javascript function every time a user is\n       * adding, updating or deleting a product from the cart.\n       *\n       * @link https://matomo.org/docs/ecommerce-analytics/#tracking-add-to-cart-items-added-to-the-cart-optional\n       * @link https://developer.matomo.org/api-reference/tracking-javascript#ecommerce\n       *\n       * @property grandTotal (required) Cart amount\n       */\n      case 'trackEcommerceCartUpdate':\n        params = [\n          'trackEcommerceCartUpdate',\n          (properties as TrackEcommerceCartUpdateMatomoProperties).grandTotal,\n        ];\n        break;\n\n      /**\n       * @description Tracks an Ecommerce order, including any ecommerce item previously added to\n       * the order. orderId and grandTotal (ie. revenue) are required parameters.\n       *\n       * @link https://matomo.org/docs/ecommerce-analytics/#tracking-ecommerce-orders-items-purchased-required\n       * @link https://developer.matomo.org/api-reference/tracking-javascript#ecommerce\n       *\n       * @property orderId (required) Unique Order ID\n       * @property grandTotal (required) Order Revenue grand total (includes tax, shipping, and subtracted discount)\n       * @property subTotal (optional) Order sub total (excludes shipping)\n       * @property tax (optional) Tax amount\n       * @property shipping (optional) Shipping amount\n       * @property discount (optional) Discount offered (set to false for unspecified parameter)\n       */\n      case 'trackEcommerceOrder':\n        params = [\n          'trackEcommerceOrder',\n          (properties as TrackEcommerceOrderMatomoProperties).orderId,\n          (properties as TrackEcommerceOrderMatomoProperties).grandTotal,\n          (properties as TrackEcommerceOrderMatomoProperties).subTotal,\n          (properties as TrackEcommerceOrderMatomoProperties).tax,\n          (properties as TrackEcommerceOrderMatomoProperties).shipping,\n          (properties as TrackEcommerceOrderMatomoProperties).discount,\n        ];\n        break;\n\n      /**\n       * @description To manually trigger an outlink\n       *\n       * @link https://matomo.org/docs/tracking-goals-web-analytics/\n       * @link https://developer.matomo.org/guides/tracking-javascript-guide#tracking-a-click-as-an-outlink-via-css-or-javascript\n       *\n       * @property url (required) link url\n       * @property linkType (optional) type of link\n       */\n      case 'trackLink':\n        params = [\n          'trackLink',\n          (properties as TrackLinkMatomoProperties).url,\n          (properties as TrackLinkMatomoProperties).linkType,\n        ];\n        break;\n\n      /**\n       * @description Tracks an Ecommerce goal\n       *\n       * @link https://matomo.org/docs/tracking-goals-web-analytics/\n       * @link https://developer.matomo.org/guides/tracking-javascript-guide#manually-trigger-goal-conversions\n       *\n       * @property goalId (required) Unique Goal ID\n       * @property value (optional) passed to goal tracking\n       */\n      case 'trackGoal':\n        params = [\n          'trackGoal',\n          (properties as TrackGoalMatomoProperties).goalId,\n          (properties as TrackGoalMatomoProperties).value,\n        ];\n        break;\n\n      /**\n       * @description Tracks a site search\n       *\n       * @link https://matomo.org/docs/site-search/\n       * @link https://developer.matomo.org/guides/tracking-javascript-guide#internal-search-tracking\n       *\n       * @property keyword (required) Keyword searched for\n       * @property category (optional) Search category\n       * @property searchCount (optional) Number of results\n       */\n      case 'trackSiteSearch':\n        params = [\n          'trackSiteSearch',\n          (properties as TrackSiteSearchMatomoProperties).keyword,\n          (properties as TrackSiteSearchMatomoProperties).category,\n          (properties as TrackSiteSearchMatomoProperties).searchCount,\n        ];\n        break;\n\n      /**\n       * @description Logs an event with an event category (Videos, Music, Games...), an event\n       * action (Play, Pause, Duration, Add Playlist, Downloaded, Clicked...), and an optional\n       * event name and optional numeric value.\n       *\n       * @link https://matomo.org/docs/event-tracking/\n       * @link https://developer.matomo.org/api-reference/tracking-javascript#using-the-tracker-object\n       *\n       * @property category\n       * @property action\n       * @property name (optional, recommended)\n       * @property value (optional)\n       */\n      default:\n        // PAQ requires that eventValue be an integer, see: http://matomo.org/docs/event-tracking\n        if ((properties as TrackEventMatomoProperties).value) {\n          const parsed = parseInt((properties as TrackEventMatomoProperties).value as any, 10);\n          (properties as TrackEventMatomoProperties).value = isNaN(parsed) ? 0 : parsed;\n        }\n\n        params = [\n          'trackEvent',\n          (properties as TrackEventMatomoProperties).category,\n          action,\n          (properties as TrackEventMatomoProperties).name ||\n            (properties as TrackEventMatomoProperties).label, // Changed in favour of Matomo documentation. Added fallback so it's backwards compatible.\n          (properties as TrackEventMatomoProperties).value,\n        ];\n    }\n    try {\n      _paq.push(params);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  setUsername(userId: string | boolean) {\n    try {\n      _paq.push(['setUserId', userId]);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  /**\n   * Sets custom dimensions if at least one property has the key \"dimension<n>\",\n   * e.g. dimension10. If there are custom dimensions, any other property is ignored.\n   *\n   * If there are no custom dimensions in the given properties object, the properties\n   * object is saved as a custom variable.\n   *\n   * If in doubt, prefer custom dimensions.\n   * @link https://matomo.org/docs/custom-variables/\n   */\n  setUserProperties(properties: SetCustomVariableMatomoProperties) {\n    const dimensions = this.setCustomDimensions(properties);\n    try {\n      if (dimensions.length === 0) {\n        _paq.push([\n          'setCustomVariable',\n          properties.index,\n          properties.name,\n          properties.value,\n          properties.scope,\n        ]);\n      }\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  /**\n   * If you created a custom variable and then decide to remove this variable from\n   * a visit or page view, you can use deleteCustomVariable.\n   *\n   * @link https://developer.matomo.org/guides/tracking-javascript-guide#deleting-a-custom-variable\n   */\n  deletedUserProperties(properties: DeleteCustomVariableMatomoProperties) {\n    try {\n      _paq.push(['deleteCustomVariable', properties.index, properties.scope]);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  private setCustomDimensions(properties: SetCustomVariableMatomoProperties): string[] {\n    const dimensionRegex: RegExp = /dimension[1-9]\\d*/;\n    const dimensions = Object.keys(properties).filter(key => dimensionRegex.exec(key));\n    dimensions.forEach(dimension => {\n      const number = Number(dimension.substr(9));\n      _paq.push(['setCustomDimension', number, properties[dimension]]);\n    });\n    return dimensions;\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\n\ndeclare var analytics: SegmentAnalytics.AnalyticsJS;\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2Segment {\n  constructor(private angulartics2: Angulartics2) {\n    this.angulartics2.setUserProperties.subscribe(x => this.setUserProperties(x));\n    this.angulartics2.setUserPropertiesOnce.subscribe(x => this.setUserProperties(x));\n    this.angulartics2.setAlias.subscribe(x => this.setAlias(x));\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventTrack(x.action, x.properties));\n  }\n\n  /**\n   * https://segment.com/docs/libraries/analytics.js/#page\n   *\n   * analytics.page([category], [name], [properties], [options], [callback]);\n   */\n  pageTrack(path: string) {\n    // TODO : Support optional parameters where the parameter order and type changes their meaning\n    try {\n      analytics.page(path);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  /**\n   * https://segment.com/docs/libraries/analytics.js/#track\n   *\n   * analytics.track(event, [properties], [options], [callback]);\n   */\n  eventTrack(action: string, properties: any) {\n    try {\n      analytics.track(action, properties);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  /**\n   * https://segment.com/docs/libraries/analytics.js/#identify\n   *\n   * analytics.identify([userId], [traits], [options], [callback]);\n   */\n  setUserProperties(properties: any) {\n    try {\n      if (properties.userId) {\n        analytics.identify(properties.userId, properties);\n      } else {\n        analytics.identify(properties);\n      }\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  /**\n   * https://segment.com/docs/connections/sources/catalog/libraries/website/javascript/#reset--logout\n   *\n   * analytics.reset();\n   */\n  unsetUserProperties() {\n    analytics.reset();\n  }\n\n  /**\n   * https://segment.com/docs/libraries/analytics.js/#alias\n   *\n   * analytics.alias(userId, previousId, options, callback);\n   */\n  setAlias(alias: any) {\n    try {\n      analytics.alias(alias);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\n\ndeclare var Intercom: any;\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2Intercom {\n  constructor(private angulartics2: Angulartics2) {\n    this.angulartics2.setUserProperties.subscribe(x => this.setUserProperties(x));\n    this.angulartics2.setUserPropertiesOnce.subscribe(x => this.setUserProperties(x));\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventTrack(x.action, x.properties));\n  }\n\n  pageTrack(path: string) {\n    try {\n      this.eventTrack('Pageview', {\n        url: path,\n      });\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  eventTrack(action: string, properties: any) {\n    try {\n      Intercom('trackEvent', action, properties);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  setUserProperties(properties: any) {\n    try {\n      if (properties.userId && !properties.user_id) {\n        properties.user_id = properties.userId;\n      }\n\n      Intercom('boot', properties);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\n\ndeclare var woopra: any;\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2Woopra {\n  constructor(private angulartics2: Angulartics2) {\n    if (typeof woopra === 'undefined') {\n      console.warn('Woopra not found');\n    }\n\n    this.angulartics2.setUserProperties.subscribe(x => this.setUserProperties(x));\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventTrack(x.action, x.properties));\n  }\n\n  pageTrack(path: string) {\n    try {\n      woopra.track('pv', {\n        url: path,\n      });\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  eventTrack(action: string, properties: any) {\n    try {\n      woopra.track(action, properties);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  setUserProperties(properties: any) {\n    try {\n      if (properties.email) {\n        woopra.identify(properties);\n      }\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\n\nimport { Angulartics2 } from '../../angulartics2-core';\nimport { ClickyProperties } from './clicky.interfaces';\n\ndeclare var clicky: any;\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2Clicky {\n  constructor(private angulartics2: Angulartics2, private titleService: Title) {\n    if (typeof clicky === 'undefined') {\n      console.warn('Angulartics 2 Clicky Plugin: clicky global not found');\n    }\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventOrGoalTrack(x.action, x.properties));\n  }\n\n  /**\n   * Track Page in Clicky\n   *\n   * @param path location\n   *\n   * @link https://clicky.com/help/custom/manual#log\n   */\n  pageTrack(path: string) {\n    const title: string = this.titleService.getTitle();\n    clicky.log(path, title, 'pageview');\n  }\n\n  /**\n   * Track Event Or Goal in Clicky\n   *\n   * @param action Action name\n   * @param properties Definition of 'properties.goal' determines goal vs event tracking\n   *\n   * @link https://clicky.com/help/custom/manual#log\n   * @link https://clicky.com/help/custom/manual#goal\n   */\n  eventOrGoalTrack(action: string, properties: Partial<ClickyProperties>) {\n    if (typeof properties.goal === 'undefined') {\n      const title: string = properties.title || null;\n      const type: string = properties.type != null ? this.validateType(properties.type) : null;\n      clicky.log(action, title, type);\n    } else {\n      const goalId: string = properties.goal;\n      const revenue: number = properties.revenue;\n      clicky.goal(goalId, revenue, !!properties.noQueue);\n    }\n  }\n\n  private validateType(type: string): string {\n    const EventType = ['pageview', 'click', 'download', 'outbound'];\n    return EventType.indexOf(type) > -1 ? type : 'pageview';\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\n\ndeclare var amplitude: {\n  getInstance: () => {\n    logEvent(action: string, properties: any);\n    setUserId(userId: string);\n    setUserProperties(properties: any);\n  };\n};\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2Amplitude {\n  constructor(private angulartics2: Angulartics2) {\n    this.angulartics2.setUsername.subscribe((x: any) => this.setUsername(x));\n    this.angulartics2.setUserProperties.subscribe((x: any) => this.setUserProperties(x));\n    this.angulartics2.setUserPropertiesOnce.subscribe((x: any) => this.setUserProperties(x));\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe((x: any) => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe((x: any) => this.eventTrack(x.action, x.properties));\n  }\n\n  pageTrack(path: string) {\n    try {\n      this.eventTrack('Pageview', {\n        url: path,\n      });\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  eventTrack(action: string, properties: any) {\n    try {\n      amplitude.getInstance().logEvent(action, properties);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  setUsername(userId: string) {\n    try {\n      amplitude.getInstance().setUserId(userId);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  setUserProperties(properties: any) {\n    try {\n      amplitude.getInstance().setUserProperties(properties);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\n\ndeclare var sp: any;\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2Splunk {\n  constructor(private angulartics2: Angulartics2) {\n    if (typeof sp === 'undefined') {\n      console.warn('Splunk not found');\n    }\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventTrack(x.action, x.properties));\n  }\n\n  pageTrack(path: string) {\n    try {\n      sp.pageview(path);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  eventTrack(action: string, properties: any) {\n    try {\n      sp.track(action, properties);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { Angulartics2 } from '../../angulartics2-core';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class Angulartics2IBMDigitalAnalytics {\r\n  constructor(private angulartics2: Angulartics2) {\r\n    if (typeof window['cmCreatePageviewTag'] !== 'function') {\r\n      console.warn('Angulartics 2 IBM Digital Analytics Plugin: eluminate.js is not loaded');\r\n    }\r\n  }\r\n\r\n  startTracking(): void {\r\n    this.angulartics2.pageTrack\r\n      .pipe(this.angulartics2.filterDeveloperMode())\r\n      .subscribe(x => this.pageTrack(x.path));\r\n    this.angulartics2.eventTrack\r\n      .pipe(this.angulartics2.filterDeveloperMode())\r\n      .subscribe(x => this.eventTrack(x.action, x.properties));\r\n  }\r\n\r\n  /**\r\n   * Track Page in IBM Digital Analytics\r\n   *\r\n   * @param path location\r\n   *\r\n   * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_pageviewtag.html\r\n   */\r\n  pageTrack(path: string) {\r\n    const cmCreatePageviewTag = window['cmCreatePageviewTag'];\r\n    cmCreatePageviewTag(path, null, null, null);\r\n  }\r\n\r\n  /**\r\n   * Track an event in IBM Digital Analytics\r\n   *\r\n   * @param action A string corresponding to the type of event that needs to be tracked.\r\n   * @param properties The properties that need to be logged with the event.\r\n   */\r\n  eventTrack(action: string, properties: any = {}) {\r\n    const cmDisplayShops = window['cmDisplayShops'];\r\n    switch (action) {\r\n      /**\r\n       * @description The Product View tag captures information about vdigitalDataiews of product detail pages.\r\n       *  The Product View tag should be called on the lowest level detail page for products, which is typically\r\n       *  the Product Details page. You can view example Product View tags below.\r\n       *\r\n       * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_prodviewtag.html\r\n       */\r\n      case 'cmCreateProductviewTag':\r\n        const cmCreateProductviewTag = window['cmCreateProductviewTag'];\r\n        cmCreateProductviewTag(\r\n          properties.productId,\r\n          properties.productName,\r\n          properties.categoryId,\r\n          properties.attrbute,\r\n          properties.virtualCategory,\r\n        );\r\n\r\n        break;\r\n\r\n      /**\r\n       * @description The Shop Action 5 tag captures data about selected products and which products are present in a shopping cart,\r\n       *  if any, when the cart is viewed.\r\n       *\r\n       * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_shopact5tag.html\r\n       */\r\n      case 'cmCreateShopAction5Tag':\r\n        const cmCreateShopAction5Tag = window['cmCreateShopAction5Tag'];\r\n        cmCreateShopAction5Tag(\r\n          properties.productId,\r\n          properties.productName,\r\n          properties.quantity,\r\n          properties.unitPrice,\r\n          properties.categoryId,\r\n          properties.attrbute,\r\n          properties.extraFields,\r\n          properties.virtualCategory,\r\n        );\r\n\r\n        cmDisplayShops();\r\n\r\n        break;\r\n\r\n      /**\r\n       * @description The Shop Action 9 tag captures data about what products were purchased by a customer.\r\n       *  Like the Shop Action 5 tag, one tag should be sent for each product line item purchased. These tags should be sent\r\n       *  on the receipt or other completion page confirming a successful order.\r\n       *\r\n       * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_shopact9tag.html\r\n       */\r\n      case 'cmCreateShopAction9Tag':\r\n        const cmCreateShopAction9Tag = window['cmCreateShopAction9Tag'];\r\n        cmCreateShopAction9Tag(\r\n          properties.productId,\r\n          properties.productName,\r\n          properties.quantity,\r\n          properties.unitPrice,\r\n          properties.registrationId,\r\n          properties.orderId,\r\n          properties.orderSubtotal,\r\n          properties.categoryId,\r\n          properties.attrbute,\r\n          properties.extraFields,\r\n        );\r\n\r\n        cmDisplayShops();\r\n\r\n        break;\r\n\r\n      /**\r\n       * @description The Order tag captures order header information such as Registration ID, order ID, order subtotal,\r\n       *  and shipping and handling. The Order tag should be sent on the receipt page confirming order completion.\r\n       *\r\n       * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_ordertag.html\r\n       */\r\n      case 'cmCreateOrderTag':\r\n        const cmCreateOrderTag = window['cmCreateOrderTag'];\r\n        cmCreateOrderTag(\r\n          properties.orderId,\r\n          properties.orderSubtotal,\r\n          properties.orderShipping,\r\n          properties.registrationId,\r\n          properties.registrantCity,\r\n          properties.registrantState,\r\n          properties.registrantPostalCode,\r\n          properties.attrbute,\r\n          properties.extraFields,\r\n        );\r\n\r\n        break;\r\n\r\n      /**\r\n       * @description The Registration tag creates a Lifetime Visitor Experience Profile (LIVE Profile) by associating a single\r\n       *  common Registration ID with the IBM® Digital Analytics permanent cookie set in every browser visiting the tagged site.\r\n       *\r\n       * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_registrationtag.html\r\n       */\r\n      case 'cmCreateRegistrationTag':\r\n        const cmCreateRegistrationTag = window['cmCreateRegistrationTag'];\r\n        cmCreateRegistrationTag(\r\n          properties.registrationId,\r\n          properties.registrantEmail,\r\n          properties.registrantCity,\r\n          properties.registrantState,\r\n          properties.registrantPostalCode,\r\n          properties.registrantCountry,\r\n          properties.attrbute,\r\n        );\r\n\r\n        break;\r\n\r\n      /**\r\n       * @description The Element tag is used to track intra-page content in IBM® Digital Analytics. Data collected by\r\n       *  the Element tag is used to populate values in the Element Categories and Top Viewed Elements reports.\r\n       *\r\n       * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_elementtag.html\r\n       */\r\n      case 'cmCreateElementTag':\r\n        const cmCreateElementTag = window['cmCreateElementTag'];\r\n        cmCreateElementTag(properties.elementId, properties.elementCategory, properties.attrbute);\r\n\r\n        break;\r\n\r\n      /**\r\n       * @description The Conversion Event tag is employed for tracking of general non-commerce conversion events.\r\n       * The Conversion Event tag is used to populate values in the Conversion Events Reports and to create Key Segments.\r\n       * This tag and the reports it populates enable analysis of a wide variety of site activities.\r\n       *\r\n       * @link https://www.ibm.com/support/knowledgecenter/SSPG9M/Implementation/impl_conversioneventtag.html\r\n       */\r\n      case 'cmCreateConversionEventTag':\r\n        const cmCreateConversionEventTag = window['cmCreateConversionEventTag'];\r\n        cmCreateConversionEventTag(\r\n          properties.eventId,\r\n          properties.actionType,\r\n          properties.eventCategoryId,\r\n          properties.points,\r\n          properties.attrbute,\r\n          properties.extraFields,\r\n        );\r\n\r\n        break;\r\n\r\n      default:\r\n        console.warn('Unsupported Event Action');\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from '../../angulartics2-core';\n\ndeclare var _gs: any;\n\n@Injectable({ providedIn: 'root' })\nexport class Angulartics2GoSquared {\n  constructor(private angulartics2: Angulartics2) {\n    this.angulartics2.setUserProperties.subscribe(x => this.setUserProperties(x));\n    this.angulartics2.setUserPropertiesOnce.subscribe(x => this.setUserProperties(x));\n  }\n\n  startTracking(): void {\n    this.angulartics2.pageTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.pageTrack(x.path));\n    this.angulartics2.eventTrack\n      .pipe(this.angulartics2.filterDeveloperMode())\n      .subscribe(x => this.eventTrack(x.action, x.properties));\n  }\n\n  pageTrack(path: string) {\n    try {\n      _gs('track', path);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  eventTrack(action: string, properties: any) {\n    try {\n      _gs('event', action, properties);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n\n  setUserProperties(properties: any) {\n    try {\n      _gs('identify', properties);\n    } catch (e) {\n      if (!(e instanceof ReferenceError)) {\n        throw e;\n      }\n    }\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;;;;;;;;MAgDa,aAAa;IAA1B;QACE,iBAAY,GAAG;YACb,qBAAqB,EAAE,IAAI;YAC3B,QAAQ,EAAE,EAAE;YACZ,cAAc,EAAE,EAAE;YAClB,QAAQ,EAAE,KAAK;YACf,SAAS,EAAE,KAAK;YAChB,gBAAgB,EAAE,KAAK;YACvB,SAAS,EACP,qFAAqF;SACxF,CAAC;QACF,kBAAa,GAAG,KAAK,CAAC;QACtB,OAAE,GAAG,EAAE,CAAC;QACR,gBAAW,GAAG,EAAE,CAAC;QACjB,QAAG,GAAG,EAAE,CAAC;QACT,QAAG,GAAG,EAAE,CAAC;KACV;;;MCxDY,kBAAkB,GAAG,IAAI,cAAc,CAClD,cAAc;;MCDH,kBAAkB;IAC7B,aAAa,CAAC,QAA8B;QAC1C,OAAO,IAAI,eAAe,CAAqB,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;KAC9D;IAED,kBAAkB,CAAC,GAAW;QAC5B,OAAO,GAAG,CAAC;KACZ;;;MCJU,YAAY;IAcvB,YACU,OAA2B,EACP,KAAwB;QAD5C,YAAO,GAAP,OAAO,CAAoB;QAZrC,cAAS,GAAG,IAAI,aAAa,CAAqB,EAAE,CAAC,CAAC;QACtD,eAAU,GAAG,IAAI,aAAa,CAAsB,EAAE,CAAC,CAAC;QACxD,mBAAc,GAAG,IAAI,aAAa,CAAM,EAAE,CAAC,CAAC;QAC5C,aAAQ,GAAG,IAAI,aAAa,CAAS,EAAE,CAAC,CAAC;QACzC,gBAAW,GAAG,IAAI,aAAa,CAAuC,EAAE,CAAC,CAAC;QAC1E,sBAAiB,GAAG,IAAI,aAAa,CAAM,EAAE,CAAC,CAAC;QAC/C,0BAAqB,GAAG,IAAI,aAAa,CAAM,EAAE,CAAC,CAAC;QACnD,uBAAkB,GAAG,IAAI,aAAa,CAAM,EAAE,CAAC,CAAC;QAChD,2BAAsB,GAAG,IAAI,aAAa,CAAM,EAAE,CAAC,CAAC;QACpD,gBAAW,GAAG,IAAI,aAAa,CAAc,EAAE,CAAC,CAAC;QAM/C,MAAM,aAAa,GAAG,IAAI,aAAa,EAAE,CAAC;QAC1C,IAAI,CAAC,QAAQ,mCAAQ,aAAa,GAAK,KAAK,CAAC,QAAQ,CAAE,CAAC;QACxD,IAAI,CAAC,QAAQ,CAAC,YAAY,mCACrB,aAAa,CAAC,YAAY,GAC1B,KAAK,CAAC,QAAQ,CAAC,YAAY,CAC/B,CAAC;QACF,IAAI,CAAC,OAAO;aACT,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC;aAC5B,SAAS,CAAC,CAAC,KAAyB,KAAK,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;KAC7E;;IAGD,mBAAmB;QACjB,OAAO,MAAM,CAAC,CAAC,KAAK,EAAE,KAAK,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;KAC/D;IAES,cAAc,CAAC,GAAW;QAClC,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,qBAAqB,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,EAAE;YACvF,MAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACtC,IAAI,IAAY,CAAC;YACjB,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,EAAE;gBAC9C,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,QAAQ,GAAG,UAAU,CAAC;aACzD;iBAAM;gBACL,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAC;aACpD;YACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;SAC/B;KACF;;;;;;;IAQS,oBAAoB,CAAC,GAAW;QACxC,KAAK,MAAM,aAAa,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,cAAc,EAAE;YACrE,MAAM,YAAY,GAAG,aAAa,YAAY,MAAM,IAAI,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAChF,IAAI,YAAY,IAAI,GAAG,CAAC,OAAO,CAAC,aAAuB,CAAC,KAAK,CAAC,CAAC,EAAE;gBAC/D,OAAO,IAAI,CAAC;aACb;SACF;QACD,OAAO,KAAK,CAAC;KACd;;;;;;;IAQS,QAAQ,CAAC,GAAW;QAC5B,IACE,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,QAAQ;YACnC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,gBAAgB;YAC3C,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS,EACpC;YACA,OAAO,GAAG;iBACP,KAAK,CAAC,GAAG,CAAC;iBACV,GAAG,CAAC,IAAI,KAAK,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;iBACtF,GAAG,CAAC,IAAI,KAAK,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;iBAC/E,MAAM,CACL,IAAI,IACF,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,QAAQ;gBACpC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS,CAAC,CACpD;iBACA,IAAI,CAAC,GAAG,CAAC,CAAC;SACd;QACD,OAAO,GAAG,CAAC;KACZ;;wEAvFU,YAAY,+CAgBb,kBAAkB;kEAhBjB,YAAY,WAAZ,YAAY,mBADC,MAAM;;4EACnB,YAAY;kBADxB,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;8BAiB7B,MAAM;+BAAC,kBAAkB;;;;;AClB9B;;;;;;MAOa,qBAAqB;IAChC,YAAoB,MAAc,EAAU,QAAkB;QAA1C,WAAM,GAAN,MAAM,CAAQ;QAAU,aAAQ,GAAR,QAAQ,CAAU;KAAI;IAElE,aAAa,CAAC,QAAQ;QACpB,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAC5B,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,aAAa,CAAC,EACvC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,EACrC,GAAG,CAAC,CAAC,CAAgB;YACnB,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC,iBAAiB,EAAE,CAAC;SACrC,CAAC,EACF,KAAK,CAAC,CAAC,CAAC,CACT,CAAC;KACH;IAED,kBAAkB,CAAC,GAAW;QAC5B,OAAO,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;KAC9C;;0FAhBU,qBAAqB;2EAArB,qBAAqB,WAArB,qBAAqB,mBADR,MAAM;;4EACnB,qBAAqB;kBADjC,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCXrB,cAAc;IASzB,YACU,KAAiB,EACjB,YAA0B,EAC1B,QAAmB;QAFnB,UAAK,GAAL,KAAK,CAAY;QACjB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,aAAQ,GAAR,QAAQ,CAAW;QALpB,0BAAqB,GAAQ,EAAE,CAAC;KAMrC;IAEJ,kBAAkB;QAChB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,IAAI,CAAC,cAAc,IAAI,OAAO,EAAE,CAAC,KAAY,KAC1F,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CACvB,CAAC;KACH;IAED,UAAU,CAAC,KAAY;QACrB,MAAM,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC;QACtC,MAAM,UAAU,mCACX,IAAI,CAAC,qBAAqB,KAC7B,SAAS,EAAE,KAAK,CAAC,IAAI,GACtB,CAAC;QAEF,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC5B,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC;SAChD;QACD,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC;SAC1C;QACD,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC;SAC1C;QAED,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC;YAChC,MAAM;YACN,UAAU;SACX,CAAC,CAAC;KACJ;;4EA1CU,cAAc;iEAAd,cAAc;;4EAAd,cAAc;kBAD1B,SAAS;mBAAC,EAAE,QAAQ,EAAE,kBAAkB,EAAE;iHAGhB,cAAc;sBAAtC,KAAK;uBAAC,gBAAgB;gBACd,iBAAiB;sBAAzB,KAAK;gBACG,mBAAmB;sBAA3B,KAAK;gBACG,gBAAgB;sBAAxB,KAAK;gBACG,gBAAgB;sBAAxB,KAAK;gBACG,qBAAqB;sBAA7B,KAAK;;;MAoDK,oBAAoB;;wFAApB,oBAAoB;sEAApB,oBAAoB;;;4EAApB,oBAAoB;kBAJhC,QAAQ;mBAAC;oBACR,YAAY,EAAE,CAAC,cAAc,CAAC;oBAC9B,OAAO,EAAE,CAAC,cAAc,CAAC;iBAC1B;;;wFACY,oBAAoB,mBA3DpB,cAAc,aAAd,cAAc;;MCSd,kBAAkB;IAC7B,OAAO,OAAO,CACZ,WAA0C,EAAE;QAE5C,OAAO;YACL,QAAQ,EAAE,kBAAkB;YAC5B,SAAS,EAAE;gBACT,EAAE,OAAO,EAAE,kBAAkB,EAAE,QAAQ,EAAE,EAAE,QAAQ,EAAE,EAAE;gBACvD,EAAE,OAAO,EAAE,kBAAkB,EAAE,QAAQ,EAAE,qBAAqB,EAAE;gBAChE,YAAY;aACb;SACF,CAAC;KACH;;oFAZU,kBAAkB;oEAAlB,kBAAkB;wEAHpB,CAAC,oBAAoB,CAAC;;4EAGpB,kBAAkB;kBAJ9B,QAAQ;mBAAC;oBACR,OAAO,EAAE,CAAC,oBAAoB,CAAC;oBAC/B,OAAO,EAAE,CAAC,cAAc,CAAC;iBAC1B;;;wFACY,kBAAkB,cAHnB,oBAAoB,aACpB,cAAc;;MCAb,4BAA4B;IACvC,OAAO,OAAO,CACZ,WAA0C,EAAE;QAE5C,OAAO;YACL,QAAQ,EAAE,4BAA4B;YACtC,SAAS,EAAE;gBACT,EAAE,OAAO,EAAE,kBAAkB,EAAE,QAAQ,EAAE,EAAE,QAAQ,EAAE,EAAE;gBACvD,kBAAkB;gBAClB,YAAY;aACb;SACF,CAAC;KACH;;wGAZU,4BAA4B;8EAA5B,4BAA4B;kFAF9B,CAAC,oBAAoB,CAAC;;4EAEpB,4BAA4B;kBAHxC,QAAQ;mBAAC;oBACR,OAAO,EAAE,CAAC,oBAAoB,CAAC;iBAChC;;;wFACY,4BAA4B,cAF7B,oBAAoB;;MCDnB,0BAA0B;IACrC,YAAoB,YAA0B,EAAU,QAAkB;QAAtD,iBAAY,GAAZ,YAAY,CAAc;QAAU,aAAQ,GAAR,QAAQ,CAAU;QACxE,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;KAC/E;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KAC5D;IAED,SAAS,CAAC,IAAY;QACpB,IAAI,OAAO,CAAC,KAAK,WAAW,IAAI,CAAC,EAAE;YACjC,CAAC,CAAC,SAAS,EAAE,CAAC;YACd,CAAC,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;SACzB;KACF;;;;;;;;;IAUD,UAAU,CAAC,MAAc,EAAE,UAAe;;;;;;QAMxC,IAAI,CAAC,UAAU,EAAE;YACf,UAAU,GAAG,UAAU,IAAI,EAAE,CAAC;SAC/B;QAED,IAAI,OAAO,CAAC,KAAK,WAAW,IAAI,CAAC,EAAE;YACjC,IAAI,OAAO,UAAU,KAAK,QAAQ,EAAE;gBAClC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;aACpC;YACD,IAAI,MAAM,EAAE;;gBAEV,MAAM,QAAQ,GAAG,UAAU,CAAC,UAAU,CAAC,GAAG,UAAU,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC;;;;gBAI1E,MAAM,YAAY,GAAG,CAAC,CAAC,UAAU,CAAC,cAAc,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;;gBAEhE,IAAI,UAAU,CAAC,QAAQ,CAAC,EAAE;oBACxB,MAAM,GAAG,UAAU,CAAC,QAAQ,CAAC,CAAC;iBAC/B;gBACD,IAAI,CAAC,WAAW,EAAE,CAAC;gBAEnB,IAAI,MAAM,CAAC,WAAW,EAAE,KAAK,UAAU,EAAE;oBACvC,CAAC,CAAC,EAAE,CAAC,YAAY,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;iBACnC;qBAAM,IAAI,MAAM,CAAC,WAAW,EAAE,KAAK,MAAM,EAAE;oBAC1C,CAAC,CAAC,EAAE,CAAC,YAAY,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;iBACnC;qBAAM;oBACL,CAAC,CAAC,EAAE,CAAC,YAAY,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;iBACnC;aACF;SACF;KACF;IAEO,WAAW;QACjB,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACtC,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAClC,IAAI,OAAO,GAAG,CAAC,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,EAAE;YACxC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;SAC1C;aAAM;YACL,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;SACnB;KACF;IAED,iBAAiB,CAAC,UAAe;QAC/B,IAAI,OAAO,CAAC,KAAK,WAAW,IAAI,CAAC,EAAE;YACjC,IAAI,OAAO,UAAU,KAAK,QAAQ,EAAE;gBAClC,KAAK,MAAM,GAAG,IAAI,UAAU,EAAE;oBAC5B,IAAI,UAAU,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;wBAClC,CAAC,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;qBAC1B;iBACF;aACF;SACF;KACF;;oGAvFU,0BAA0B;gFAA1B,0BAA0B,WAA1B,0BAA0B,mBADb,MAAM;;4EACnB,0BAA0B;kBADtC,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCQrB,mBAAmB;IAAhC;QACE,WAAM,GAAG,IAAI,CAAC;KACf;CAAA;MAGY,uBAAuB;IAQlC,YACU,YAA0B,EAC1B,KAAY,EACZ,MAAc;QAFd,iBAAY,GAAZ,YAAY,CAAc;QAC1B,UAAK,GAAL,KAAK,CAAO;QACZ,WAAM,GAAN,MAAM,CAAQ;QAVxB,kBAAa,GAAW,IAAI,CAAC;QAC7B,aAAQ,GAAW,IAAI,CAAC;QAExB,YAAO,GAA+B,IAAI,CAAC;QAC3C,eAAU,GAA+B,IAAI,CAAC;QAC9C,iBAAY,GAA+B,IAAI,CAAC;QAO9C,IAAI,OAAO,WAAW,KAAK,WAAW,EAAE;YACtC,OAAO,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;SACvC;QAED,MAAM,QAAQ,GAAG,IAAI,mBAAmB,EAAE,CAAC;;QAE3C,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,WAAW,mCACjC,QAAQ,GACR,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,WAAW,CAC1C,CAAC;QACF,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAS,KAAK,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5E,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,CAAC,KAC9C,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAC1B,CAAC;KACH;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC5C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,YAAY,CAAC,cAAc;aAC7B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5C,IAAI,CAAC,MAAM,CAAC,MAAM;aACf,IAAI,CACH,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,EACvC,MAAM,CAAC,CAAC,KAAK,KAAK,KAAK,YAAY,eAAe,CAAC,CACpD;aACA,SAAS,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;QAE3C,IAAI,CAAC,MAAM,CAAC,MAAM;aACf,IAAI,CACH,MAAM,CACJ,CAAC,KAAK,KACJ,KAAK,YAAY,eAAe,IAAI,KAAK,YAAY,aAAa,CACrE,CACF;aACA,SAAS,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;KAC3C;IAED,UAAU;QACR,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAChC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;KACtB;IAED,SAAS;QACP,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC;QAChD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;KAC3B;;;;;;;;IASD,SAAS,CAAC,IAAY;QACpB,WAAW,CAAC,aAAa,CACvB,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,EACrB,IAAI,EACJ,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,OAAO,EACZ,IAAI,CAAC,QAAQ,CACd,CAAC;KACH;;;;;;;;;IAUD,UAAU,CAAC,IAAY,EAAE,UAAsC;QAC7D,WAAW,CAAC,UAAU,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;KAC7D;;;;;;;;;IAUD,cAAc,CAAC,UAAe;QAC5B,MAAM,WAAW,GACf,UAAU,CAAC,KAAK,IAAI,UAAU,CAAC,WAAW,IAAI,UAAU,CAAC;QAE3D,WAAW,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;KACzC;;;;IAKD,WAAW,CAAC,MAAc;QACxB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,WAAW,CAAC,MAAM,GAAG,MAAM,CAAC;QACvD,WAAW,CAAC,2BAA2B,CAAC,MAAM,CAAC,CAAC;KACjD;IAED,iBAAiB,CACf,UAA0D;QAE1D,IAAI,UAAU,CAAC,MAAM,EAAE;YACrB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,WAAW,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC;SACnE;QACD,IAAI,UAAU,CAAC,SAAS,EAAE;YACxB,WAAW,CAAC,2BAA2B,CACrC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,WAAW,CAAC,MAAM,EAC7C,UAAU,CAAC,SAAS,CACrB,CAAC;SACH;aAAM;YACL,WAAW,CAAC,2BAA2B,CACrC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,WAAW,CAAC,MAAM,CAC9C,CAAC;SACH;KACF;;8FAtIU,uBAAuB;6EAAvB,uBAAuB,WAAvB,uBAAuB,mBADV,MAAM;;4EACnB,uBAAuB;kBADnC,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCXrB,0BAA0B;IACrC,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAC5C,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;YAC/B,IAAI,GAAG,EAAE,CAAC;SACX;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC,CAAC;SACxC;QACD,IAAI,CAAC,YAAY,CAAC,WAAW;aAC1B,SAAS,CAAC,CAAC,CAAS,KAAK,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QACjD,IAAI,CAAC,YAAY,CAAC,iBAAiB;aAChC,SAAS,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;KAChD;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC5C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KAC9D;;;;;;;;IASD,SAAS,CAAC,IAAY;QACpB,IAAI,OAAO,IAAI,KAAK,WAAW,IAAI,IAAI,EAAE;YACvC,IAAI,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC,CAAC;SACrC;KACF;;;;;;;;;;;;IAaD,UAAU,CAAC,MAAc,EAAE,UAAe;;QAExC,IAAI,CAAC,UAAU,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE;YACvC,UAAU,GAAG,UAAU,IAAI,EAAE,CAAC;YAC9B,UAAU,CAAC,QAAQ,GAAG,OAAO,CAAC;YAC9B,UAAU,CAAC,SAAS,GAAG,SAAS,CAAC;YACjC,UAAU,CAAC,SAAS,GAAG,SAAS,CAAC;SAClC;QAED,IAAI,OAAO,IAAI,KAAK,WAAW,IAAI,IAAI,EAAE;YACvC,IAAI,CAAC,IAAI,CAAC;gBACR,aAAa;gBACb,UAAU,CAAC,QAAQ;gBACnB,MAAM;gBACN,UAAU,CAAC,SAAS;gBACpB,UAAU,CAAC,SAAS;aACrB,CAAC,CAAC;SACJ;KACF;IAED,WAAW,CAAC,MAAc;;QAExB,IAAI,CAAC,IAAI,CAAC,CAAC,eAAe,EAAE,CAAC,EAAE,UAAU,EAAE,MAAM,CAAC,CAAC,CAAC;KACrD;IAED,iBAAiB,CAAC,UAAe;QAC/B,IAAI,CAAC,IAAI,CAAC,CAAC,eAAe,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;KACrE;;oGAzEU,0BAA0B;gFAA1B,0BAA0B,WAA1B,0BAA0B,mBADb,MAAM;;4EACnB,0BAA0B;kBADtC,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;ACDlC,MAAM,iBAAiB,GAAG;IACxB,aAAa;IACb,QAAQ;IACR,WAAW;IACX,eAAe;IACf,kBAAkB;IAClB,gBAAgB;IAChB,UAAU;IACV,MAAM;IACN,sBAAsB;CACvB,CAAC;MAGW,oBAAoB;IAC/B,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;KAAK;IAEnD,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KAC5D;;;;;;IAOD,UAAU,CAAC,MAAc,EAAE,aAAkB,EAAE;QAC7C,IAAI,OAAO,GAAG,KAAK,WAAW,EAAE;YAC9B,OAAO;SACR;QACD,IAAI,iBAAiB,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE;YAC5C,OAAO,GAAG,CAAC,aAAa,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;SAC/C;QACD,OAAO,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;KACzC;;wFAtBU,oBAAoB;0EAApB,oBAAoB,WAApB,oBAAoB,mBADP,MAAM;;4EACnB,oBAAoB;kBADhC,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCRrB,uBAAuB;IAApC;QACE,2BAAsB,GAAG,EAAE,CAAC;QAC5B,WAAM,GAAG,IAAI,CAAC;QACd,cAAS,GAAG,EAAE,CAAC;QACf,gBAAW,GAAG,KAAK,CAAC;KACrB;CAAA;MAGY,2BAA2B;IAItC,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAH9C,yBAAoB,GAAG,EAAE,CAAC;QAIxB,MAAM,QAAQ,GAAG,IAAI,uBAAuB,EAAE,CAAC;;QAE/C,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,mCACxB,QAAQ,GACR,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CACjC,CAAC;QACF,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC;QAC9C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAS,KAAK,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5E,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;KAC/E;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,YAAY,CAAC,cAAc;aAC7B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,WAAW;aAC1B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;KACxC;IAED,SAAS,CAAC,IAAY;QACpB,IAAI,OAAO,IAAI,KAAK,WAAW,IAAI,IAAI,EAAE;YACvC,IAAI,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC,CAAC;YACpC,KAAK,MAAM,WAAW,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,sBAAsB,EAAE;gBAC9E,IAAI,CAAC,IAAI,CAAC,CAAC,WAAW,GAAG,iBAAiB,EAAE,IAAI,CAAC,CAAC,CAAC;aACpD;SACF;QACD,IAAI,OAAO,EAAE,KAAK,WAAW,IAAI,EAAE,EAAE;YACnC,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,EAAE;gBACxC,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;gBACxD,KAAK,MAAM,WAAW,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,sBAAsB,EAAE;oBAC9E,EAAE,CAAC,WAAW,GAAG,MAAM,EAAE,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;iBACxE;aACF;YACD,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,WAAW,EAAE;gBAC7C,EAAE,CAAC,KAAK,EAAE,aAAa,EAAE,IAAI,CAAC,CAAC;gBAC/B,KAAK,MAAM,WAAW,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,sBAAsB,EAAE;oBAC9E,EAAE,CAAC,WAAW,GAAG,MAAM,EAAE,aAAa,EAAE,IAAI,CAAC,CAAC;iBAC/C;aACF;YACD,EAAE,CAAC,MAAM,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;YAC7B,KAAK,MAAM,WAAW,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,sBAAsB,EAAE;gBAC9E,EAAE,CAAC,WAAW,GAAG,OAAO,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;aAC7C;SACF;KACF;;;;;;;;;;;;;;IAeD,UAAU,CAAC,MAAc,EAAE,UAAe;;QAExC,IAAI,CAAC,UAAU,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE;YACvC,UAAU,GAAG,UAAU,IAAI,EAAE,CAAC;YAC9B,UAAU,CAAC,QAAQ,GAAG,OAAO,CAAC;SAC/B;;;;QAID,IAAI,UAAU,CAAC,KAAK,EAAE;YACpB,MAAM,MAAM,GAAG,QAAQ,CAAC,UAAU,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YAC9C,UAAU,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;SAC/C;QAED,IAAI,OAAO,EAAE,KAAK,WAAW,EAAE;YAC7B,MAAM,YAAY,mBAChB,aAAa,EAAE,UAAU,CAAC,QAAQ,EAClC,WAAW,EAAE,MAAM,EACnB,UAAU,EAAE,UAAU,CAAC,KAAK,EAC5B,UAAU,EAAE,UAAU,CAAC,KAAK,EAC5B,cAAc,EAAE,UAAU,CAAC,cAAc,EACzC,IAAI,EAAE,UAAU,CAAC,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,QAAQ,CAAC,QAAQ,EACxE,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,EAC5C,WAAW,EAAE,UAAU,CAAC,WAAW,KAC/B,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,IAAI;gBAC7C,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS;aACnD,EACF,CAAC;;YAGF,IAAI,CAAC,uBAAuB,CAAC,UAAU,CAAC,CAAC;YAEzC,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,YAAY,CAAC,CAAC;YAElC,KAAK,MAAM,WAAW,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,sBAAsB,EAAE;gBAC9E,EAAE,CAAC,WAAW,GAAG,OAAO,EAAE,OAAO,EAAE,YAAY,CAAC,CAAC;aAClD;SACF;aAAM,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;YACtC,IAAI,CAAC,IAAI,CAAC;gBACR,aAAa;gBACb,UAAU,CAAC,QAAQ;gBACnB,MAAM;gBACN,UAAU,CAAC,KAAK;gBAChB,UAAU,CAAC,KAAK;gBAChB,UAAU,CAAC,cAAc;aAC1B,CAAC,CAAC;SACJ;KACF;;;;;;;;;;;;IAaD,cAAc,CAAC,UAAe;QAC5B,IAAI,UAAU,CAAC,KAAK,KAAK,SAAS,EAAE;YAClC,OAAO,CAAC,GAAG,CAAC,8CAA8C,CAAC,CAAC;YAC5D,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC;SACzB;QAED,UAAU,CAAC,aAAa,GAAG,UAAU,CAAC,WAAW,CAAC;QAElD,MAAM,YAAY,GAAG;YACnB,OAAO,EAAE,UAAU,CAAC,KAAK;YACzB,aAAa,EAAE,UAAU,CAAC,WAAW;SACtC,CAAC;QAEF,EAAE,CAAC,MAAM,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC;QACtC,KAAK,MAAM,WAAW,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,sBAAsB,EAAE;YAC9E,EAAE,CAAC,WAAW,GAAG,OAAO,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC;SACtD;KACF;;;;;;;;;;;;;IAcD,WAAW,CAAC,UAAuB;QACjC,IACE,CAAC,UAAU;YACX,CAAC,UAAU,CAAC,cAAc;YAC1B,CAAC,UAAU,CAAC,SAAS;YACrB,CAAC,UAAU,CAAC,WAAW,EACvB;YACA,OAAO,CAAC,KAAK,CACX,+EAA+E,CAChF,CAAC;YACF,OAAO;SACR;QAED,IAAI,OAAO,EAAE,KAAK,WAAW,EAAE;YAC7B,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;YACjC,KAAK,MAAM,WAAW,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,sBAAsB,EAAE;gBAC9E,EAAE,CAAC,WAAW,GAAG,OAAO,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;aACjD;SACF;KACF;IAED,WAAW,CAAC,MAAc;QACxB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,GAAG,MAAM,CAAC;QAC9C,IAAI,OAAO,EAAE,KAAK,WAAW,EAAE;YAC7B,OAAO;SACR;QACD,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;KAC7B;IAED,iBAAiB,CAAC,UAAe;QAC/B,IAAI,CAAC,uBAAuB,CAAC,UAAU,CAAC,CAAC;KAC1C;IAEO,uBAAuB,CAAC,UAAe;QAC7C,IAAI,OAAO,EAAE,KAAK,WAAW,EAAE;YAC7B,OAAO;SACR;;QAED,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,IAAI;YACpC,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;gBACpC,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;gBAE3B,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,sBAAsB,CAAC,OAAO,CAAC,CAAC,WAAmB;oBAC/E,EAAE,CAAC,GAAG,WAAW,MAAM,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;iBAC3C,CAAC,CAAC;aACJ;SACF,CAAC,CAAC;QACH,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;;QAG/B,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,GAAG;YACjC,IAAI,GAAG,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,CAAC,EAAE;gBAC/E,EAAE,CAAC,KAAK,EAAE,GAAG,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;gBAEhC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,sBAAsB,CAAC,OAAO,CAAC,CAAC,WAAmB;oBAC/E,EAAE,CAAC,GAAG,WAAW,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;iBAChD,CAAC,CAAC;gBACH,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACrC;SACF,CAAC,CAAC;KACJ;;sGA9NU,2BAA2B;iFAA3B,2BAA2B,WAA3B,2BAA2B,mBADd,MAAM;;4EACnB,2BAA2B;kBADvC,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCNrB,4CAA4C;;;;;IAKvD,eAAe,CAAC,UAAwD;QACtE,EAAE,CAAC,kBAAkB,EAAE,UAAU,CAAC,CAAC;KACpC;;;;;IAMD,YAAY,CAAC,OAAkD;QAC7D,EAAE,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;KAC9B;;;;;IAMD,WAAW,CACT,MAA4B,EAC5B,UAAoD;QAEpD,EAAE,CAAC,cAAc,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;KACxC;;wIA1BU,4CAA4C;kGAA5C,4CAA4C,WAA5C,4CAA4C,mBAD/B,MAAM;;4EACnB,4CAA4C;kBADxD,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCHrB,wBAAwB;IAArC;QACE,WAAM,GAAG,IAAI,CAAC;KACf;CAAA;MAGY,4BAA4B;IACvC,YAAsB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;;QAE9C,IAAI,OAAO,SAAS,KAAK,WAAW,IAAI,SAAS,EAAE;YACjD,SAAS,GAAI,MAAc,CAAC,SAAS,GAAI,MAAc,CAAC,SAAS,IAAI,EAAE,CAAC;SACzE;QACD,MAAM,QAAQ,GAAG,IAAI,wBAAwB,EAAE,CAAC;;QAEhD,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,mCAAQ,QAAQ,GAAK,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAE,CAAC;QACpF,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAS,KAAK,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;KAC7E;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,YAAY,CAAC,cAAc;aAC7B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,CAAM,KAAK,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;KAClD;IAED,SAAS,CAAC,IAAY;QACpB,IAAI,CAAC,SAAS,CAAC;YACb,KAAK,EAAE,WAAW;YAClB,cAAc,EAAE,IAAI;YACpB,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM;SAC9C,CAAC,CAAC;KACJ;;;;;;IAOD,SAAS,CAAC,KAAU;QAClB,IAAI,OAAO,SAAS,KAAK,WAAW,IAAI,SAAS,EAAE;YACjD,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACvB;KACF;;;;;;IAOD,UAAU,CAAC,MAAc,EAAE,UAAe;;;;;;;QAOxC,UAAU,GAAG,UAAU,IAAI,EAAE,CAAC;QAE9B,IAAI,CAAC,SAAS,iBACZ,KAAK,EAAE,UAAU,CAAC,KAAK,IAAI,aAAa,EACxC,MAAM,EAAE,UAAU,CAAC,QAAQ,IAAI,OAAO,EACtC,MAAM,EACN,KAAK,EAAE,UAAU,CAAC,KAAK,EACvB,KAAK,EAAE,UAAU,CAAC,KAAK,EACvB,eAAe,EAAE,UAAU,CAAC,cAAc,EAC1C,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,IAC1C,UAAU,CAAC,SAAS,EACvB,CAAC;KACJ;;;;;IAMD,cAAc,CAAC,UAAe;;;;;;;;QAQ5B,IAAI,CAAC,UAAU,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE;YACrF,OAAO,CAAC,KAAK,CAAC,+CAA+C,CAAC,CAAC;YAC/D,OAAO;SACR;QAED,IAAI,UAAU,CAAC,KAAK,KAAK,SAAS,EAAE;YAClC,OAAO,CAAC,GAAG,CAAC,8CAA8C,CAAC,CAAC;YAC5D,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC;SAC3B;QAED,UAAU,CAAC,aAAa,GAAG,UAAU,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,KAAK,GAAG,UAAU,CAAC,WAAW,CAAC;QAE9F,IAAI,CAAC,UAAU,CACb,wBAAwB,UAAU,CAAC,OAAO,KAAK,UAAU,CAAC,KAAK,IAAI,UAAU,CAAC,UAAU,GAAG,EAC3F;YACE,QAAQ,EAAE,WAAW;YACrB,KAAK,EAAE,UAAU,CAAC,aAAa;SAChC,CACF,CAAC;KACH;;;;;;IAOD,WAAW,CAAC,MAAc;QACxB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC;KAChD;;wGA7GU,4BAA4B;kFAA5B,4BAA4B,WAA5B,4BAA4B,mBADf,MAAM;;4EACnB,4BAA4B;kBADxC,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCDrB,2BAA2B;IAGtC;QAFA,gBAAW,GAAa,EAAE,CAAC;QAGzB,IAAI,OAAO,EAAE,KAAK,WAAW,IAAI,EAAE,EAAE;;YAEnC,EAAE,CAAC;gBACD,EAAE,CAAC,MAAM,EAAE,CAAC,OAAO,CAAC,CAAC,OAAY;oBAC/B,MAAM,EAAE,GAAG,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;;oBAErC,IAAI,EAAE,KAAK,SAAS,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE;wBAC3D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;qBAC3B;iBACF,CAAC,CAAC;aACJ,CAAC,CAAC;SACJ;KACF;CACF;MAGY,+BAA+B;IAG1C,YAAsB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAFxC,yBAAoB,GAA2B,EAAE,CAAC;QAGxD,MAAM,QAAQ,GAAG,IAAI,2BAA2B,EAAE,CAAC;;QAEnD,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,mCAAQ,QAAQ,GAAK,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAE,CAAC;KACrF;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,YAAY,CAAC,cAAc;aAC7B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,CAAM,KAAK,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;QACjD,IAAI,CAAC,YAAY,CAAC,WAAW;aAC1B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5D,IAAI,CAAC,YAAY,CAAC,WAAW;aAC1B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,CAAS,KAAK,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QACjD,IAAI,CAAC,YAAY,CAAC,iBAAiB;aAChC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,CAAM,KAAK,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;KACrD;;;;;;;;IASD,SAAS,CAAC,IAAY;QACpB,IAAI,OAAO,IAAI,KAAK,WAAW,IAAI,IAAI,EAAE;YACvC,MAAM,MAAM,mBACV,SAAS,EAAE,IAAI,EACf,aAAa,EAAE,MAAM,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,IACzE,IAAI,CAAC,oBAAoB,CAC7B,CAAC;;YAIF,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,EAAE;gBAC5C,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC;aAC9D;YACD,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,EAAE;gBACzC,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC;aACxD;YACD,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAW,EAAE;gBAC9C,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAW,CAAC;aAClE;YAED,KAAK,MAAM,EAAE,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAW,EAAE;gBAC3D,IAAI,CAAC,QAAQ,EAAE,EAAE,EAAE,MAAM,CAAC,CAAC;aAC5B;SACF;KACF;;;;;;;;IASD,UAAU,CAAC,MAAc,EAAE,aAAgC,EAAE;QAC3D,IAAI,CAAC,kBAAkB,CAAC,MAAM,kBAC5B,cAAc,EAAE,UAAU,CAAC,QAAQ,IAAI,aAAa,EACpD,WAAW,EAAE,UAAU,CAAC,KAAK,EAC7B,KAAK,EAAE,UAAU,CAAC,KAAK,EACvB,eAAe,EAAE,UAAU,CAAC,cAAc,IACvC,UAAU,CAAC,SAAS,EACvB,CAAC;KACJ;;;;;;;IAQD,cAAc,CAAC,UAAe;;;;;QAK5B,IAAI,UAAU,CAAC,KAAK,KAAK,SAAS,EAAE;YAClC,OAAO,CAAC,GAAG,CAAC,8CAA8C,CAAC,CAAC;YAC5D,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC;SACzB;QAED,UAAU,CAAC,aAAa,GAAG,UAAU,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,KAAK,GAAG,UAAU,CAAC,WAAW,CAAC;QAE9F,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE;YAC3B,SAAS,kBACP,WAAW,EAAE,UAAU,CAAC,aAAa,EACrC,KAAK,EAAE,UAAU,CAAC,KAAK,IACpB,UAAU,CAAC,SAAS,CACxB;SACF,CAAC,CAAC;KACJ;;;;;;;;;;;;;IAcD,WAAW,CAAC,UAA0B;QACpC,IAAI,CAAC,UAAU,EAAE;YACf,OAAO,CAAC,KAAK,CAAC,8DAA8D,CAAC,CAAC;YAC9E,OAAO;SACR;QAED,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,EAAE;YACzC,IAAI,EAAE,UAAU,CAAC,IAAI;YACrB,KAAK,EAAE,UAAU,CAAC,KAAK;YACvB,cAAc,EAAE,UAAU,CAAC,QAAQ;YACnC,WAAW,EAAE,UAAU,CAAC,KAAK;SAC9B,CAAC,CAAC;KACJ;IAEO,cAAc,CAAC,UAAuB;QAC5C,OAAO;YACL,IAAI,EAAE,UAAU,CAAC,SAAS;YAC1B,KAAK,EAAE,UAAU,CAAC,WAAW;YAC7B,QAAQ,EAAE,UAAU,CAAC,cAAc;YACnC,KAAK,EAAE,UAAU,CAAC,WAAW;SAC9B,CAAC;KACH;IAED,WAAW,CAAC,MAA4C;QACtD,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC;QAC/C,IAAI,OAAO,IAAI,KAAK,WAAW,IAAI,IAAI,EAAE;YACvC,IAAI,CAAC,KAAK,EAAE,EAAE,OAAO,EAAE,OAAO,MAAM,KAAK,QAAQ,IAAI,CAAC,MAAM,GAAG,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;SAC1F;KACF;IAED,iBAAiB,CAAC,UAAe;QAC/B,IAAI,CAAC,uBAAuB,CAAC,UAAU,CAAC,CAAC;KAC1C;IAEO,uBAAuB,CAAC,UAAkC;;QAEhE,IAAI,CAAC,oBAAoB,mCACpB,IAAI,CAAC,oBAAoB,GACzB,UAAU,CACd,CAAC;;QAGF,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,OAAO,CAAC,GAAG;YAChD,MAAM,GAAG,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC;YAC3C,IAAI,GAAG,KAAK,SAAS,IAAI,GAAG,KAAK,IAAI,EAAE;gBACrC,OAAO,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC;aACvC;SACF,CAAC,CAAC;QAEH,IAAI,OAAO,IAAI,KAAK,WAAW,IAAI,IAAI,EAAE;YACvC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;SACxC;KACF;IAEO,kBAAkB,CAAC,MAAc,EAAE,aAAkB,EAAE;QAC7D,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;QACjC,IAAI,OAAO,IAAI,KAAK,WAAW,IAAI,IAAI,EAAE;YACvC,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;SACnC;KACF;IAEO,eAAe,CAAC,UAAkC;;;QAGxD,IAAI,UAAU,CAAC,KAAK,EAAE;YACpB,MAAM,MAAM,GAAG,QAAQ,CAAC,UAAU,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YAC9C,UAAU,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;SAC/C;KACF;;8GA3LU,+BAA+B;qFAA/B,+BAA+B,WAA/B,+BAA+B,mBADlB,MAAM;;4EACnB,+BAA+B;kBAD3C,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCtBrB,mBAAmB;IAC9B,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAC5C,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;KAC/E;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KAC5D;IAED,SAAS,CAAC,IAAY;QACpB,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;YAC/B,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,IAAI,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;SAC9B;KACF;IAED,UAAU,CAAC,MAAc,EAAE,UAAe;QACxC,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;YAC/B,IAAI,CAAC,IAAI,CAAC,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC,CAAC;SACvC;KACF;IAED,iBAAiB,CAAC,UAAe;QAC/B,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;YAC/B,IAAI,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC,CAAC;SACrC;KACF;;sFA/BU,mBAAmB;yEAAnB,mBAAmB,WAAnB,mBAAmB,mBADN,MAAM;;4EACnB,mBAAmB;kBAD/B,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCCrB,uBAAuB;IAClC,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAC5C,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;YAC/B,IAAI,GAAG,EAAE,CAAC;SACX;QACD,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAS,KAAK,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5E,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;KAC/E;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KAC5D;IAED,SAAS,CAAC,IAAY;QACpB,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,UAAU,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;KACnD;IAED,UAAU,CAAC,MAAc,EAAE,UAAe;QACxC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC,CAAC;KAC3C;IAED,WAAW,CAAC,MAAc;QACxB,IAAI,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC,CAAC;KACjC;IAED,iBAAiB,CAAC,UAAe;QAC/B,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC;KAChC;;8FAhCU,uBAAuB;6EAAvB,uBAAuB,WAAvB,uBAAuB,mBADV,MAAM;;4EACnB,uBAAuB;kBADnC,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCCrB,yBAAyB;IAGpC,YAAsB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAFhD,YAAO,GAAQ,EAAE,CAAC;QAGhB,IAAI,WAAW,KAAK,OAAO,UAAU,EAAE;YACrC,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;SACnC;QACD,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAS,KAAK,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5E,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;KAC/E;IAED,WAAW,CAAC,MAAwB;QAClC,IAAI,WAAW,KAAK,OAAO,MAAM,IAAI,MAAM,EAAE;YAC3C,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;SAC9B;KACF;IAED,iBAAiB,CAAC,UAAe;QAC/B,IAAI,WAAW,KAAK,OAAO,UAAU,IAAI,UAAU,EAAE;YACnD,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,UAAU,CAAC;SACtC;KACF;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KAC5D;IAED,SAAS,CAAC,IAAY;QACpB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC;QAClC,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;QAEzB,IAAI,WAAW,KAAK,OAAO,UAAU,IAAI,UAAU,EAAE;YACnD,UAAU,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;SAC7C;KACF;;;;;IAMD,UAAU,CAAC,MAAc,EAAE,UAAe;QACxC,UAAU,GAAG,UAAU,IAAI,EAAE,CAAC;;QAG9B,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;QAC7B,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,UAAU,CAAC;QAE1C,IAAI,WAAW,KAAK,OAAO,UAAU,IAAI,UAAU,EAAE;YACnD,UAAU,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;SAC9C;KACF;;kGAvDU,yBAAyB;+EAAzB,yBAAyB,WAAzB,yBAAyB,mBADZ,MAAM;;4EACnB,yBAAyB;kBADrC,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCCrB,oBAAoB;IAC/B,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAC5C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAS,KAAK,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5E,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9E,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,CAAC;QACtF,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;QAChF,IAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC,CAAC;QACxF,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;KAC7D;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KAC5D;IAED,SAAS,CAAC,IAAY;QACpB,IAAI;YACF,QAAQ,CAAC,KAAK,CAAC,aAAa,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;SAC/C;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,UAAU,CAAC,MAAc,EAAE,UAAe;QACxC,IAAI;YACF,QAAQ,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;SACpC;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,WAAW,CAAC,MAAc;QACxB,IAAI;YACF,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;SAC3B;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,iBAAiB,CAAC,UAAe;QAC/B,IAAI;YACF,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;SACjC;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,qBAAqB,CAAC,UAAe;QACnC,IAAI;YACF,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;SACtC;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,kBAAkB,CAAC,UAAe;QAChC,IAAI;YACF,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;SAC/B;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,sBAAsB,CAAC,UAAe;QACpC,IAAI;YACF,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;SACpC;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,QAAQ,CAAC,KAAU;QACjB,IAAI;YACF,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SACvB;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;;wFAjGU,oBAAoB;0EAApB,oBAAoB,WAApB,oBAAoB,mBADP,MAAM;;4EACnB,oBAAoB;kBADhC,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCGrB,gBAAgB;IAC3B,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAC5C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAS,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1E,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;KACxE;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KAC5D;IAED,SAAS,CAAC,IAAY;QACpB,IAAI;YACF,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;SAClD;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,UAAU,CAAC,MAAc,EAAE,UAAe;QACxC,IAAI;YACF,UAAU,CAAC,6BAA6B,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;SAC9D;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,SAAS,CAAC,MAAc;QACtB,IAAI;YACF,YAAY,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;SACxC;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,UAAU,CAAC,UAAkB;QAC3B,IAAI;YACF,YAAY,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;SACrC;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;;gFArDU,gBAAgB;sEAAhB,gBAAgB,WAAhB,gBAAgB,mBADH,MAAM;;4EACnB,gBAAgB;kBAD5B,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCiIrB,kBAAkB;IAC7B,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAC5C,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;YAC/B,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;SAClC;QACD,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAS,KAAK,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5E,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,CAAoC,KACjF,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAC1B,CAAC;KACH;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KAC5D;IAED,SAAS,CAAC,IAAY,EAAE,KAAc;QACpC,IAAI;YACF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE;gBAC1B,MAAM,CAAC,QAAgB,CAAC,MAAM;oBAC7B,MAAM,CAAC,QAAQ,CAAC,QAAQ;wBACxB,IAAI;wBACJ,MAAM,CAAC,QAAQ,CAAC,QAAQ;yBACvB,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC;aAC5D;YACD,IAAI,CAAC,IAAI,CAAC,CAAC,kBAAkB,EAAE,KAAK,IAAI,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;YAChE,IAAI,CAAC,IAAI,CAAC,CAAC,cAAc,EAAE,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC;YAC3D,IAAI,CAAC,IAAI,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;SAC9B;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,SAAS;QACP,IAAI;YACF,IAAI,CAAC,IAAI,CAAC,CAAC,qBAAqB,EAAE,aAAa,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,IAAI,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;SAC9B;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;;;;;;;IAoBD,UAAU,CAAC,MAAwB,EAAE,UAAuC;QAC1E,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,QAAQ,MAAM;;;;;;;;;;;;;;YAcZ,KAAK,kBAAkB;gBACrB,MAAM,GAAG;oBACP,kBAAkB;oBACjB,UAA+C,CAAC,UAAU;oBAC1D,UAA+C,CAAC,WAAW;oBAC3D,UAA+C,CAAC,YAAY;oBAC5D,UAA+C,CAAC,KAAK;iBACvD,CAAC;gBACF,MAAM;;;;;;;;;;;;;;YAeR,KAAK,kBAAkB;gBACrB,MAAM,GAAG;oBACP,kBAAkB;oBACjB,UAAyC,CAAC,UAAU;oBACpD,UAAyC,CAAC,WAAW;oBACrD,UAAyC,CAAC,eAAe;oBACzD,UAAyC,CAAC,KAAK;oBAC/C,UAAyC,CAAC,QAAQ;iBACpD,CAAC;gBACF,MAAM;;;;;;;;;;YAWR,KAAK,0BAA0B;gBAC7B,MAAM,GAAG;oBACP,0BAA0B;oBACzB,UAAuD,CAAC,UAAU;iBACpE,CAAC;gBACF,MAAM;;;;;;;;;;;;;;;YAgBR,KAAK,qBAAqB;gBACxB,MAAM,GAAG;oBACP,qBAAqB;oBACpB,UAAkD,CAAC,OAAO;oBAC1D,UAAkD,CAAC,UAAU;oBAC7D,UAAkD,CAAC,QAAQ;oBAC3D,UAAkD,CAAC,GAAG;oBACtD,UAAkD,CAAC,QAAQ;oBAC3D,UAAkD,CAAC,QAAQ;iBAC7D,CAAC;gBACF,MAAM;;;;;;;;;;YAWR,KAAK,WAAW;gBACd,MAAM,GAAG;oBACP,WAAW;oBACV,UAAwC,CAAC,GAAG;oBAC5C,UAAwC,CAAC,QAAQ;iBACnD,CAAC;gBACF,MAAM;;;;;;;;;;YAWR,KAAK,WAAW;gBACd,MAAM,GAAG;oBACP,WAAW;oBACV,UAAwC,CAAC,MAAM;oBAC/C,UAAwC,CAAC,KAAK;iBAChD,CAAC;gBACF,MAAM;;;;;;;;;;;YAYR,KAAK,iBAAiB;gBACpB,MAAM,GAAG;oBACP,iBAAiB;oBAChB,UAA8C,CAAC,OAAO;oBACtD,UAA8C,CAAC,QAAQ;oBACvD,UAA8C,CAAC,WAAW;iBAC5D,CAAC;gBACF,MAAM;;;;;;;;;;;;;;YAeR;;gBAEE,IAAK,UAAyC,CAAC,KAAK,EAAE;oBACpD,MAAM,MAAM,GAAG,QAAQ,CAAE,UAAyC,CAAC,KAAY,EAAE,EAAE,CAAC,CAAC;oBACpF,UAAyC,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;iBAC/E;gBAED,MAAM,GAAG;oBACP,YAAY;oBACX,UAAyC,CAAC,QAAQ;oBACnD,MAAM;oBACL,UAAyC,CAAC,IAAI;wBAC5C,UAAyC,CAAC,KAAK;oBACjD,UAAyC,CAAC,KAAK;iBACjD,CAAC;SACL;QACD,IAAI;YACF,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACnB;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,WAAW,CAAC,MAAwB;QAClC,IAAI;YACF,IAAI,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC,CAAC;SAClC;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;;;;;;;;;;;IAYD,iBAAiB,CAAC,UAA6C;QAC7D,MAAM,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI;YACF,IAAI,UAAU,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC3B,IAAI,CAAC,IAAI,CAAC;oBACR,mBAAmB;oBACnB,UAAU,CAAC,KAAK;oBAChB,UAAU,CAAC,IAAI;oBACf,UAAU,CAAC,KAAK;oBAChB,UAAU,CAAC,KAAK;iBACjB,CAAC,CAAC;aACJ;SACF;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;;;;;;;IAQD,qBAAqB,CAAC,UAAgD;QACpE,IAAI;YACF,IAAI,CAAC,IAAI,CAAC,CAAC,sBAAsB,EAAE,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;SACzE;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAEO,mBAAmB,CAAC,UAA6C;QACvE,MAAM,cAAc,GAAW,mBAAmB,CAAC;QACnD,MAAM,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QACnF,UAAU,CAAC,OAAO,CAAC,SAAS;YAC1B,MAAM,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3C,IAAI,CAAC,IAAI,CAAC,CAAC,oBAAoB,EAAE,MAAM,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;SAClE,CAAC,CAAC;QACH,OAAO,UAAU,CAAC;KACnB;;oFA1TU,kBAAkB;wEAAlB,kBAAkB,WAAlB,kBAAkB,mBADL,MAAM;;4EACnB,kBAAkB;kBAD9B,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCjIrB,mBAAmB;IAC9B,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAC5C,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9E,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;QAClF,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;KAC7D;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KAC5D;;;;;;IAOD,SAAS,CAAC,IAAY;;QAEpB,IAAI;YACF,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACtB;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;;;;;;IAOD,UAAU,CAAC,MAAc,EAAE,UAAe;QACxC,IAAI;YACF,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;SACrC;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;;;;;;IAOD,iBAAiB,CAAC,UAAe;QAC/B,IAAI;YACF,IAAI,UAAU,CAAC,MAAM,EAAE;gBACrB,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;aACnD;iBAAM;gBACL,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;aAChC;SACF;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;;;;;;IAOD,mBAAmB;QACjB,SAAS,CAAC,KAAK,EAAE,CAAC;KACnB;;;;;;IAOD,QAAQ,CAAC,KAAU;QACjB,IAAI;YACF,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SACxB;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;;sFAxFU,mBAAmB;yEAAnB,mBAAmB,WAAnB,mBAAmB,mBADN,MAAM;;4EACnB,mBAAmB;kBAD/B,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCCrB,oBAAoB;IAC/B,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAC5C,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9E,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;KACnF;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KAC5D;IAED,SAAS,CAAC,IAAY;QACpB,IAAI;YACF,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE;gBAC1B,GAAG,EAAE,IAAI;aACV,CAAC,CAAC;SACJ;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,UAAU,CAAC,MAAc,EAAE,UAAe;QACxC,IAAI;YACF,QAAQ,CAAC,YAAY,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;SAC5C;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,iBAAiB,CAAC,UAAe;QAC/B,IAAI;YACF,IAAI,UAAU,CAAC,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE;gBAC5C,UAAU,CAAC,OAAO,GAAG,UAAU,CAAC,MAAM,CAAC;aACxC;YAED,QAAQ,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;SAC9B;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;;wFAjDU,oBAAoB;0EAApB,oBAAoB,WAApB,oBAAoB,mBADP,MAAM;;4EACnB,oBAAoB;kBADhC,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCCrB,kBAAkB;IAC7B,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAC5C,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;YACjC,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;SAClC;QAED,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;KAC/E;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KAC5D;IAED,SAAS,CAAC,IAAY;QACpB,IAAI;YACF,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE;gBACjB,GAAG,EAAE,IAAI;aACV,CAAC,CAAC;SACJ;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,UAAU,CAAC,MAAc,EAAE,UAAe;QACxC,IAAI;YACF,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;SAClC;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,iBAAiB,CAAC,UAAe;QAC/B,IAAI;YACF,IAAI,UAAU,CAAC,KAAK,EAAE;gBACpB,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;aAC7B;SACF;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;;oFAlDU,kBAAkB;wEAAlB,kBAAkB,WAAlB,kBAAkB,mBADL,MAAM;;4EACnB,kBAAkB;kBAD9B,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCGrB,kBAAkB;IAC7B,YAAoB,YAA0B,EAAU,YAAmB;QAAvD,iBAAY,GAAZ,YAAY,CAAc;QAAU,iBAAY,GAAZ,YAAY,CAAO;QACzE,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;YACjC,OAAO,CAAC,IAAI,CAAC,sDAAsD,CAAC,CAAC;SACtE;KACF;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KAClE;;;;;;;;IASD,SAAS,CAAC,IAAY;QACpB,MAAM,KAAK,GAAW,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;QACnD,MAAM,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,EAAE,UAAU,CAAC,CAAC;KACrC;;;;;;;;;;IAWD,gBAAgB,CAAC,MAAc,EAAE,UAAqC;QACpE,IAAI,OAAO,UAAU,CAAC,IAAI,KAAK,WAAW,EAAE;YAC1C,MAAM,KAAK,GAAW,UAAU,CAAC,KAAK,IAAI,IAAI,CAAC;YAC/C,MAAM,IAAI,GAAW,UAAU,CAAC,IAAI,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;YACzF,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;SACjC;aAAM;YACL,MAAM,MAAM,GAAW,UAAU,CAAC,IAAI,CAAC;YACvC,MAAM,OAAO,GAAW,UAAU,CAAC,OAAO,CAAC;YAC3C,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,OAAO,EAAE,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;SACpD;KACF;IAEO,YAAY,CAAC,IAAY;QAC/B,MAAM,SAAS,GAAG,CAAC,UAAU,EAAE,OAAO,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;QAChE,OAAO,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,GAAG,UAAU,CAAC;KACzD;;oFApDU,kBAAkB;wEAAlB,kBAAkB,WAAlB,kBAAkB,mBADL,MAAM;;4EACnB,kBAAkB;kBAD9B,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCKrB,qBAAqB;IAChC,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAC5C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAM,KAAK,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QACzE,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,CAAM,KAAK,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;QACrF,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC,CAAM,KAAK,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;KAC1F;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,CAAM,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QACjD,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,CAAM,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KACnE;IAED,SAAS,CAAC,IAAY;QACpB,IAAI;YACF,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE;gBAC1B,GAAG,EAAE,IAAI;aACV,CAAC,CAAC;SACJ;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,UAAU,CAAC,MAAc,EAAE,UAAe;QACxC,IAAI;YACF,SAAS,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;SACtD;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,WAAW,CAAC,MAAc;QACxB,IAAI;YACF,SAAS,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SAC3C;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,iBAAiB,CAAC,UAAe;QAC/B,IAAI;YACF,SAAS,CAAC,WAAW,EAAE,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;SACvD;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;;0FAxDU,qBAAqB;2EAArB,qBAAqB,WAArB,qBAAqB,mBADR,MAAM;;4EACnB,qBAAqB;kBADjC,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCLrB,kBAAkB;IAC7B,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAC5C,IAAI,OAAO,EAAE,KAAK,WAAW,EAAE;YAC7B,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;SAClC;KACF;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KAC5D;IAED,SAAS,CAAC,IAAY;QACpB,IAAI;YACF,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SACnB;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,UAAU,CAAC,MAAc,EAAE,UAAe;QACxC,IAAI;YACF,EAAE,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;SAC9B;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;;oFAlCU,kBAAkB;wEAAlB,kBAAkB,WAAlB,kBAAkB,mBADL,MAAM;;4EACnB,kBAAkB;kBAD9B,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCFrB,+BAA+B;IAC1C,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAC5C,IAAI,OAAO,MAAM,CAAC,qBAAqB,CAAC,KAAK,UAAU,EAAE;YACvD,OAAO,CAAC,IAAI,CAAC,wEAAwE,CAAC,CAAC;SACxF;KACF;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KAC5D;;;;;;;;IASD,SAAS,CAAC,IAAY;QACpB,MAAM,mBAAmB,GAAG,MAAM,CAAC,qBAAqB,CAAC,CAAC;QAC1D,mBAAmB,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;KAC7C;;;;;;;IAQD,UAAU,CAAC,MAAc,EAAE,aAAkB,EAAE;QAC7C,MAAM,cAAc,GAAG,MAAM,CAAC,gBAAgB,CAAC,CAAC;QAChD,QAAQ,MAAM;;;;;;;;YAQZ,KAAK,wBAAwB;gBAC3B,MAAM,sBAAsB,GAAG,MAAM,CAAC,wBAAwB,CAAC,CAAC;gBAChE,sBAAsB,CACpB,UAAU,CAAC,SAAS,EACpB,UAAU,CAAC,WAAW,EACtB,UAAU,CAAC,UAAU,EACrB,UAAU,CAAC,QAAQ,EACnB,UAAU,CAAC,eAAe,CAC3B,CAAC;gBAEF,MAAM;;;;;;;YAQR,KAAK,wBAAwB;gBAC3B,MAAM,sBAAsB,GAAG,MAAM,CAAC,wBAAwB,CAAC,CAAC;gBAChE,sBAAsB,CACpB,UAAU,CAAC,SAAS,EACpB,UAAU,CAAC,WAAW,EACtB,UAAU,CAAC,QAAQ,EACnB,UAAU,CAAC,SAAS,EACpB,UAAU,CAAC,UAAU,EACrB,UAAU,CAAC,QAAQ,EACnB,UAAU,CAAC,WAAW,EACtB,UAAU,CAAC,eAAe,CAC3B,CAAC;gBAEF,cAAc,EAAE,CAAC;gBAEjB,MAAM;;;;;;;;YASR,KAAK,wBAAwB;gBAC3B,MAAM,sBAAsB,GAAG,MAAM,CAAC,wBAAwB,CAAC,CAAC;gBAChE,sBAAsB,CACpB,UAAU,CAAC,SAAS,EACpB,UAAU,CAAC,WAAW,EACtB,UAAU,CAAC,QAAQ,EACnB,UAAU,CAAC,SAAS,EACpB,UAAU,CAAC,cAAc,EACzB,UAAU,CAAC,OAAO,EAClB,UAAU,CAAC,aAAa,EACxB,UAAU,CAAC,UAAU,EACrB,UAAU,CAAC,QAAQ,EACnB,UAAU,CAAC,WAAW,CACvB,CAAC;gBAEF,cAAc,EAAE,CAAC;gBAEjB,MAAM;;;;;;;YAQR,KAAK,kBAAkB;gBACrB,MAAM,gBAAgB,GAAG,MAAM,CAAC,kBAAkB,CAAC,CAAC;gBACpD,gBAAgB,CACd,UAAU,CAAC,OAAO,EAClB,UAAU,CAAC,aAAa,EACxB,UAAU,CAAC,aAAa,EACxB,UAAU,CAAC,cAAc,EACzB,UAAU,CAAC,cAAc,EACzB,UAAU,CAAC,eAAe,EAC1B,UAAU,CAAC,oBAAoB,EAC/B,UAAU,CAAC,QAAQ,EACnB,UAAU,CAAC,WAAW,CACvB,CAAC;gBAEF,MAAM;;;;;;;YAQR,KAAK,yBAAyB;gBAC5B,MAAM,uBAAuB,GAAG,MAAM,CAAC,yBAAyB,CAAC,CAAC;gBAClE,uBAAuB,CACrB,UAAU,CAAC,cAAc,EACzB,UAAU,CAAC,eAAe,EAC1B,UAAU,CAAC,cAAc,EACzB,UAAU,CAAC,eAAe,EAC1B,UAAU,CAAC,oBAAoB,EAC/B,UAAU,CAAC,iBAAiB,EAC5B,UAAU,CAAC,QAAQ,CACpB,CAAC;gBAEF,MAAM;;;;;;;YAQR,KAAK,oBAAoB;gBACvB,MAAM,kBAAkB,GAAG,MAAM,CAAC,oBAAoB,CAAC,CAAC;gBACxD,kBAAkB,CAAC,UAAU,CAAC,SAAS,EAAE,UAAU,CAAC,eAAe,EAAE,UAAU,CAAC,QAAQ,CAAC,CAAC;gBAE1F,MAAM;;;;;;;;YASR,KAAK,4BAA4B;gBAC/B,MAAM,0BAA0B,GAAG,MAAM,CAAC,4BAA4B,CAAC,CAAC;gBACxE,0BAA0B,CACxB,UAAU,CAAC,OAAO,EAClB,UAAU,CAAC,UAAU,EACrB,UAAU,CAAC,eAAe,EAC1B,UAAU,CAAC,MAAM,EACjB,UAAU,CAAC,QAAQ,EACnB,UAAU,CAAC,WAAW,CACvB,CAAC;gBAEF,MAAM;YAER;gBACE,OAAO,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;SAC5C;KACF;;8GAtLU,+BAA+B;qFAA/B,+BAA+B,WAA/B,+BAA+B,mBADlB,MAAM;;4EACnB,+BAA+B;kBAD3C,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;MCIrB,qBAAqB;IAChC,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAC5C,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9E,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;KACnF;IAED,aAAa;QACX,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;KAC5D;IAED,SAAS,CAAC,IAAY;QACpB,IAAI;YACF,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;SACpB;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,UAAU,CAAC,MAAc,EAAE,UAAe;QACxC,IAAI;YACF,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;SAClC;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAED,iBAAiB,CAAC,UAAe;QAC/B,IAAI;YACF,GAAG,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;SAC7B;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;;0FA3CU,qBAAqB;2EAArB,qBAAqB,WAArB,qBAAqB,mBADR,MAAM;;4EACnB,qBAAqB;kBADjC,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;ACNlC;;;;;;"}